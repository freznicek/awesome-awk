function initEditorResize(){function e(){return window.pageXOffset||(document.documentElement||document.body.parentNode||document.body).scrollLeft}function t(){return window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop}function n(){var e,t=c.value;t!==s&&(s=t,c.style.height="auto",c.style.height=c.scrollHeight-29+"px",window.scrollTo(i,a),l||(e=c.value.length,c.selectionEnd>e-15&&e>400&&document.activeElement===c?window.scrollTo(i,1e4):window.scrollTo(i,a)))}function r(){i=e(),a=t(),window.setTimeout(n,0)}var o,i,a,s,c=document.getElementById("article_body_markdown"),l=document.getElementById("markdown-editor-main");c&&((o=window.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:function(e,t,n){e.addEventListener(t,n,!1)})(c,"cut",r),o(c,"paste",r),o(c,"drop",r),o(c,"keydown",r),n())}function initLeaveEditorWarning(){var e=document.getElementById("article_body_markdown"),t=document.getElementById("article_markdown_form"),n=!1;e&&t&&("/articles"==window.location.pathname?window.editorIsDirty=!0:window.editorIsDirty=window.editorIsDirty||!1,e.oninput=function(){window.editorIsDirty=!0},t.onsubmit=function(){n=!0}),window.onbeforeunload=function(){var e=window.location.href.includes("/new")||window.location.href.includes("/edit")||"/articles"==window.location.pathname;if(window.editorIsDirty&&e&&!n)return"Changes you've made will be lost."}}function initNotifications(){fetchNotificationsCount(),markNotificationsAsRead(),initReactions(),listenForNotificationsBellClick(),initPagination()}function markNotificationsAsRead(){setTimeout(function(){if(document.getElementById("notifications-container")){var e;(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){};var t=document.querySelector("meta[name='csrf-token']").content;e.open("Post","/notifications/reads",!0),e.setRequestHeader("X-CSRF-Token",t),e.send()}},450)}function fetchNotificationsCount(){if(null==document.getElementById("notifications-container")&&checkUserLoggedIn()){var e;(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){var t=e.response;isNaN(t)?document.getElementById("notifications-number").classList.remove("showing"):"0"!=t&&t!=undefined&&""!=t?(document.getElementById("notifications-number").innerHTML=e.response,document.getElementById("notifications-number").classList.add("showing"),instantClick&&(InstantClick.removeExpiredKeys("force"),setTimeout(function(){InstantClick.preload(document.getElementById("notifications-link").href,"force")},30))):document.getElementById("notifications-number").classList.remove("showing")}};Date.now().toString();e.open("Get","/notifications/counts",!0),e.send()}}function initReactions(){setTimeout(function(){if(document.getElementById("notifications-container")){for(var e=document.getElementsByClassName("reaction-button"),t=0;t<e.length;t++){e[t].onclick=function(e){function t(e){"create"===e.result?n.classList.add("reacted"):n.classList.remove("reacted")}e.preventDefault();var n=this;n.classList.add("reacted");var r=new FormData;r.append("reactable_type",n.dataset.reactableType),r.append("category",n.dataset.category),r.append("reactable_id",n.dataset.reactableId),getCsrfToken().then(sendFetch("reaction-creation",r)).then(function(e){200===e.status&&e.json().then(t)})}}for(e=document.getElementsByClassName("toggle-reply-form"),t=0;t<e.length;t++){e[t].onclick=function(e){e.preventDefault();var t=this;document.getElementById("comment-form-for-"+t.dataset.reactableId).classList.add("showing"),t.innerHTML="",setTimeout(function(){document.getElementById("comment-textarea-for-"+t.dataset.reactableId).focus()},30)}}}},180)}function listenForNotificationsBellClick(){setTimeout(function(){document.getElementById("notifications-link").onclick=function(){document.getElementById("notifications-number").classList.remove("showing")}},180)}function initPagination(){var e=document.getElementById("notifications-pagination");e&&window.fetch(e.dataset.paginationPath,{method:"GET",credentials:"same-origin"}).then(function(t){200===t.status&&t.text().then(function(t){e.innerHTML=t,initReactions()})})}function initScrolling(){checkIfNearBottomOfPage()}function checkIfNearBottomOfPage(){document.getElementById("index-container")&&(client=algoliasearch("YE5Y9R600C","OTU1YjU5MWNlZTk1MjQ0YmExOTRjZmY4NDM2ZTM2YWZiYTM2ODA2NThhMzNjMDkzYTEzYjFmNDY0MDcwNjRkOHJlc3RyaWN0SW5kaWNlcz1zZWFyY2hhYmxlc19wcm9kdWN0aW9uJTJDVGFnX3Byb2R1Y3Rpb24lMkNvcmRlcmVkX2FydGljbGVzX3Byb2R1Y3Rpb24lMkNvcmRlcmVkX2FydGljbGVzX2J5X3B1Ymxpc2hlZF9hdF9wcm9kdWN0aW9uJTJDb3JkZXJlZF9hcnRpY2xlc19ieV9wb3NpdGl2ZV9yZWFjdGlvbnNfY291bnRfcHJvZHVjdGlvbiUyQ29yZGVyZWRfY29tbWVudHNfcHJvZHVjdGlvbg=="),initScrolling.called=!0,document.getElementsByClassName("single-article").length<2||location.search.indexOf("q=")>-1?(document.getElementById("loading-articles").style.display="none",done=!0):document.getElementById("loading-articles").style.display="block",fetchNextPageIfNearBottom(),setInterval(function(){fetchNextPageIfNearBottom()},210))}function fetchNextPageIfNearBottom(){if(document.getElementById("index-container")&&!document.getElementById("query-wrapper")&&!done&&!fetching&&window.scrollY>document.documentElement.scrollHeight-3700){fetching=!0;var e=document.getElementById("index-container");"podcast-episodes"==e.dataset.which?fetchNextPodcastPage(e):algoliaPaginate(e.dataset.algoliaTag)}}function fetchNextPodcastPage(e){var t=JSON.parse(e.dataset.params),n=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");if(!(n.indexOf("q=")>-1)){var r=("/api/podcast_episodes"+"?page="+nextPage+"&"+n+"&signature="+parseInt(Date.now()/4e5)).replace("&&","&");window.fetch(r).then(function(e){e.json().then(function(e){nextPage+=1,insertArticles(e),0==e.length&&(document.getElementById("loading-articles").style.display="none",done=!0)})})["catch"](function(e){console.log(e)})}}function insertArticles(e){document.getElementById("substories");var t="",n=document.getElementById("home-articles-object");n&&(n.outerHTML=""),e.forEach(function(e){var n=document.getElementById("article-link-"+e.id);if(n&&n.parentElement&&n.parentElement.classList.contains("single-article-small-pic")&&!document.getElementById("video-player-"+e.id))n.parentElement.outerHTML=buildArticleHTML(e);else if(!n){var r=buildArticleHTML(e);t+=r,initializeReadingListIcons()}});document.documentElement.scrollHeight,document.body.scrollTop;var r=document.createElement("div");r.innerHTML=t;var o=document.getElementsByClassName("single-article");insertAfter(r,o[o.length-1]),nextPage>0&&(fetching=!1)}function algoliaPaginate(e){var t=[];e&&e.length>0&&t.push(e);var n={hitsPerPage:15,page:nextPage,attributesToHighlight:[],tagFilters:t},r=document.getElementById("index-container");"base-feed"===r.dataset.feed?paginationArticlesIndex=client.initIndex("ordered_articles_production"):"latest"===r.dataset.feed?paginationArticlesIndex=client.initIndex("ordered_articles_by_published_at_production"):(n.filters="published_at_int > "+r.dataset.articlesSince,paginationArticlesIndex=client.initIndex("ordered_articles_by_positive_reactions_count_production")),paginationArticlesIndex.search("*",n).then(function(e){nextPage+=1,insertArticles(e.hits),0==e.hits.length&&(document.getElementById("loading-articles").style.display="none",done=!0)})}function initializeAdditionalContentBoxes(){var e=document.getElementById("additional-content-area");if(e){var t=(new Date).getTime().toString().substring(0,5);window.fetch("/additional_content_boxes?article_id="+e.dataset.articleId+"&signature="+t,{method:"GET",credentials:"same-origin"}).then(function(t){200===t.status&&t.text().then(function(t){e.innerHTML=t,initializeReadingListIcons(),initializeAllFollowButts(),initializeSponsorshipVisibility()})})}}function initializeAllFollowButts(){for(var e=document.getElementsByClassName("follow-action-button"),t=0;t<e.length;t++)initializeFollowButt(e[t])}function initializeFollowButt(e){var t=userData(),n=(window.innerWidth>0?window.innerWidth:screen.width,JSON.parse(e.dataset.info));"logged-out"!==document.getElementsByTagName("body")[0].getAttribute("data-user-status")?"Tag"===n.className&&t?handleTagButtAssignment(t,e,n):"fetched"!==e.dataset.fetched&&fetchButt(e,n):addModalEventListener(e)}function addModalEventListener(e){assignState(e,"login"),e.onclick=function(e){e.preventDefault(),showModal("follow-button")}}function fetchButt(e,t){var n;e.dataset.fetched="fetched",(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&200===n.status&&addButtClickHandle(n.response,e)},n.open("GET","/follows/"+t.id+"?followable_type="+t.className,!0),n.send()}function addButtClickHandle(e,t){JSON.parse(t.dataset.info);assignInitialButtResponse(e,t),t.onclick=function(e){e.preventDefault(),handleOptimisticButtRender(t)}}function handleTagButtAssignment(e,t,n){addButtClickHandle(-1!==JSON.parse(e.followed_tags).map(function(e){return e.id}).indexOf(n.id)?"true":"false",t),shouldNotFetch=!0}function assignInitialButtResponse(e,t){t.classList.add("showing"),assignState(t,"true"===e?"unfollow":"false"===e?"follow":"self"===e?"self":"login")}function handleOptimisticButtRender(e){if("self"===e.dataset.verb)window.location.href="/settings";else if("login"===e.dataset.verb)showModal("follow-button");else{try{var t=JSON.parse(e.dataset.info).id,n=e.dataset.verb;document.querySelectorAll(".follow-action-button").forEach(function(e){try{if(e.dataset.info){var r=JSON.parse(e.dataset.info).id;r&&r===t&&assignState(e,n)}}catch(o){return}})}catch(r){return}handleFollowButtPress(e)}}function handleFollowButtPress(e){var t=JSON.parse(e.dataset.info),n=new FormData;n.append("followable_type",t.className),n.append("followable_id",t.id),n.append("verb",e.dataset.verb),getCsrfToken().then(sendFetch("follow-creation",n))}function assignState(e,t){var n="";e.dataset.info&&(n=JSON.parse(e.dataset.info).style),e.classList.add("showing"),"follow"===t?(e.dataset.verb="unfollow",e.classList.remove("following-butt"),addFollowText(e,n)):"login"===t?addFollowText(e,n):"self"===t?(e.dataset.verb="self",e.innerHTML="EDIT PROFILE"):(e.dataset.verb="follow",addFollowingText(e,n),e.classList.add("following-butt"))}function addFollowText(e,t){e.innerHTML="small"===t?"+":"follow-back"===t?"+ FOLLOW BACK":"+ FOLLOW"}function addFollowingText(e,t){e.innerHTML="small"===t?"\u2713":"\u2713 FOLLOWING"}function setReactionCount(e,t){var n=document.getElementById("reaction-butt-"+e).classList,r=document.getElementById("reaction-number-"+e);t>0?(n.add("activated"),r.innerHTML=t):(n.remove("activated"),r.innerHTML="0")}function showUserReaction(e,t){document.getElementById("reaction-butt-"+e).classList.add("user-activated",t)}function hideUserReaction(e){document.getElementById("reaction-butt-"+e).classList.remove("user-activated","user-animated")}function hasUserReacted(e){return document.getElementById("reaction-butt-"+e).classList.contains("user-activated")}function getNumReactions(e){var t=document.getElementById("reaction-number-"+e).innerHTML;return""==t?0:parseInt(t)}function initializeArticleReactions(){setTimeout(function(){if(document.getElementById("article-body")){var e=document.getElementById("article-body").dataset.articleId;if(document.getElementById("article-reaction-actions")){var t;(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(t.readyState==XMLHttpRequest.DONE){var e=JSON.parse(t.response);e.article_reaction_counts.forEach(function(e){setReactionCount(e.category,e.count)}),e.reactions.forEach(function(e){document.getElementById("reaction-butt-"+e.category)&&showUserReaction(e.category,"not-user-animated")})}},t.open("GET","/reactions?article_id="+e,!0),t.send()}}for(var n=document.getElementsByClassName("article-reaction-butt"),r=0;r<n.length;r++)n[r].onclick=function(){reactToArticle(e,this.dataset.category)};document.getElementById("jump-to-comments")&&(document.getElementById("jump-to-comments").onclick=function(e){e.preventDefault(),document.getElementById("comments").scrollIntoView({behavior:"instant",block:"start"}),setTimeout(function(){e.target.blur()},100)})},3)}function reactToArticle(e,t){function n(){var e=getNumReactions(t);hasUserReacted(t)?(hideUserReaction(t),setReactionCount(t,e-1)):(showUserReaction(t,"user-animated"),setReactionCount(t,e+1))}function r(){var n=new FormData;return n.append("reactable_type","Article"),n.append("reactable_id",e),n.append("category",t),n}var o=document.getElementsByTagName("body")[0].getAttribute("data-user-status");sendHapticMessage("medium"),"logged-out"!=o?(n(),document.getElementById("reaction-butt-"+t).disabled=!0,getCsrfToken().then(sendFetch("reaction-creation",r())).then(function(e){if(200===e.status)return e.json().then(()=>{document.getElementById("reaction-butt-"+t).disabled=!1});n(),document.getElementById("reaction-butt-"+t).disabled=!1})["catch"](function(){n(),document.getElementById("reaction-butt-"+t).disabled=!1})):showModal("react-to-article")}function initializeBaseTracking(){var e=0,t=!1,n=setInterval(function(){var r,o,i,a,s,c,l;t||(r=window,o=document,i="script",a="//www.google-analytics.com/analytics.js",s="ga",r.GoogleAnalyticsObject=s,r[s]=r[s]||function(){(r[s].q=r[s].q||[]).push(arguments)},r[s].l=1*new Date,c=o.createElement(i),l=o.getElementsByTagName(i)[0],c.async=1,c.src=a,l.parentNode.insertBefore(c,l)),t=!0,e++,window.ga&&ga.create&&(ga("create","UA-71991109-1","auto"),ga("send","pageview",location.pathname+location.search),document.location.search.indexOf("newly-registered-user=true")>-1&&ga("send","event","registration","New user registration",location.pathname,null),clearInterval(n),logImpressions()),e>85&&(clearInterval(n),fallbackActivityRecording())},25);facebookTrackingScript(),eventListening(),trackCustomImpressions()}function fallbackActivityRecording(){var e=document.querySelector("meta[name='csrf-token']");if(e){var t=e.getAttribute("content"),n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o=window.screen.availWidth,i=window.screen.availHeight,a={path:location.pathname+location.search,user_language:navigator.language,referrer:document.referrer,user_agent:navigator.userAgent,viewport_size:r+"x"+n,screen_resolution:i+"x"+o,document_title:document.title,document_encoding:document.characterSet,document_path:location.pathname+location.search};window.fetch("/fallback_activity_recorder",{method:"POST",headers:{Accept:"application/json","X-CSRF-Token":t},body:JSON.stringify(a),credentials:"same-origin"})}}function fbTrack(){fbq("track","PageView"),document.location.search.indexOf("newly-registered-user=true")>-1&&(fbq("track","CompleteRegistration"),history.replaceState(null,document.title,window.location.href.replace("?newly-registered-user=true","")))}function facebookTrackingScript(){var e,t,n,r,o,i,a;"undefined"==typeof fbq?(e=window,t=document,n="script",r="https://connect.facebook.net/en_US/fbevents.js",e.fbq||(o=e.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},e._fbq||(e._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(i=t.createElement(n)).async=!0,i.src=r,(a=t.getElementsByTagName(n)[0]).parentNode.insertBefore(i,a)),fbq("init","1332410973527587"),fbTrack()):fbTrack()}function eventListening(){var e=document.getElementById("cta-comment-register-now-link");e&&(e.onclick=function(){ga("send","event","click","register-now-click",null,null)})}function logImpressions(){var e=document.getElementById("featured-story-marker");if(e){var t=e.dataset.featuredArticle;ga("send","event","view","featured-feed-impression",t,null)}}function trackCustomImpressions(){setTimeout(function(){var e=document.getElementById("article-show-primary-sticky-nav"),t=document.getElementById("html-variant-article-show-sidebar"),n=document.getElementById("article-body"),r=document.querySelector("meta[name='csrf-token']"),o=Math.floor(10*Math.random()),i=/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent);if(t&&n&&r&&!i){var a={html_variant_id:t.dataset.variantId,article_id:n.dataset.articleId},s=r.getAttribute("content");1===o&&window.fetch("/html_variant_trials",{method:"POST",headers:{"X-CSRF-Token":s,"Content-Type":"application/json"},body:JSON.stringify(a),credentials:"same-origin"});for(var c=e.querySelectorAll("a,button"),l=0;l<c.length;l++)c[l].addEventListener("click",function(){trackHtmlVariantSuccess(a,s)})}},1500)}function trackHtmlVariantSuccess(e,t){window.fetch("/html_variant_successes",{method:"POST",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"})}function initializeBaseUserData(){var e=userData(),t='<a href="/'+e.username+'" id="first-nav-link"><div class="option prime-option">@'+e.username+"</div></a>";document.getElementById("user-profile-link-placeholder").innerHTML=t,document.getElementById("nav-profile-image").src=e.profile_image_90,initializeUserSidebar(e),addRelevantButtonsToArticle(e)}function initializeUserSidebar(e){if(document.getElementById("sidebar-nav")){initializeUserProfileContent(e);var t="",n=JSON.parse(e.followed_tags);0===n.length&&(document.getElementById("tag-separator").innerHTML="Follow tags to improve your feed"),n.forEach(function(e){0,e.points>0&&(t=t+'<div class="sidebar-nav-element" id="sidebar-element-'+e.name+'">                            <a class="sidebar-nav-link" href="/t/'+e.name+'">                            <span class="sidebar-nav-tag-text">#'+e.name+"</span>                            </a>                            </div>"),document.getElementById("default-sidebar-element-"+e.name)&&document.getElementById("default-sidebar-element-"+e.name).remove()}),document.getElementById("sidebar-nav-followed-tags").innerHTML=t,document.getElementById("sidebar-nav-default-tags").classList.add("showing")}}function initializeUserProfileContent(e){document.getElementById("sidebar-profile-pic").innerHTML='<img alt="" class="sidebar-profile-pic-img" src="'+e.profile_image_90+'" />',document.getElementById("sidebar-profile-name").innerHTML=filterXSS(e.name),document.getElementById("sidebar-profile-username").innerHTML="@"+e.username,document.getElementById("sidebar-profile-snapshot-inner").href="/"+e.username}function addRelevantButtonsToArticle(e){var t=document.getElementById("article-show-container");if(t&&(parseInt(t.dataset.authorId)==e.id?document.getElementById("action-space").innerHTML='<a href="'+t.dataset.path+'/edit" rel="nofollow">EDIT <span class="post-word">POST</span></a>':e.trusted&&(document.getElementById("action-space").innerHTML='<a href="'+t.dataset.path+'/mod" rel="nofollow">MODERATE <span class="post-word">POST</span></a>')),document.getElementById("comments-container")&&e.trusted)for(var n=document.getElementsByClassName("mod-actions"),r=0;r<n.length;r++){var o=n[r];o.className="mod-actions",o.style.display="inline-block"}}function initializeBodyData(){fetchBaseData()}function fetchBaseData(){var e;(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){var t=JSON.parse(e.responseText);t.token&&removeExistingCSRF();var n=document.createElement("meta");document.querySelector("meta[name='csrf-token']");n.name="csrf-param",n.content=t.param,document.getElementsByTagName("head")[0].appendChild(n),(n=document.createElement("meta")).name="csrf-token",n.content=t.token,document.getElementsByTagName("head")[0].appendChild(n),document.getElementsByTagName("body")[0].dataset.loaded="true",checkUserLoggedIn()&&(document.getElementsByTagName("body")[0].dataset.user=t.user,browserStoreCache("set",t.user),setTimeout(function(){"function"==typeof ga&&ga("set","userId",JSON.parse(t.user).id)},400))}};Date.now().toString();e.open("GET","/async_info/base_data",!0),e.send()}function removeExistingCSRF(){var e=document.querySelector("meta[name='csrf-token']"),t=document.querySelector("meta[name='csrf-param']");e&&t&&(e.parentNode.removeChild(e),t.parentNode.removeChild(t))}function initializeCommentDropdown(){function e(e){var n=e.target.parentElement.parentElement.getElementsByClassName("dropdown-content")[0];n.classList.contains("showing")?(n.classList.remove("showing"),r()):(o(),n.classList.add("showing"),document.addEventListener("click",t))}function t(e){n(e)&&(o(),r())}function n(e){return!(e.target.matches(".dropdown-icon")||e.target.matches(".dropbtn")||e.target.parentElement.classList.contains("dropdown-link-row"))}function r(){document.removeEventListener("click",t)}function o(){for(var e=document.getElementsByClassName("showing"),t=0;t<e.length;t+=1)e[t].classList.remove("showing")}setTimeout(function(){var t=document.getElementsByClassName("dropbtn");for(i=0;i<t.length;i++)t[i].onclick=e},100)}function initializeCommentPreview(){document.getElementById("preview-button")&&(document.getElementById("preview-button").onclick=handleCommentPreview)}function handleCommentPreview(e){e.preventDefault();var t=e.target.parentElement.parentElement,n=t.querySelector("textarea");if(""!==n.value){var r=t.querySelector(".comment-preview-div"),o=t.querySelector(".comment-action-preview");o.innerHTML.indexOf("PREVIEW")>-1?(n.classList.toggle("preview-loading"),getAndShowPreview(r,n),o.innerHTML="MARKDOWN"):(r.classList.toggle("preview-toggle"),n.classList.toggle("preview-toggle"),o.innerHTML="PREVIEW")}}function getAndShowPreview(e,t){function n(n){e.classList.toggle("preview-toggle"),t.classList.toggle("preview-loading"),t.classList.toggle("preview-toggle"),e.innerHTML=n.processed_html}var r=t.value,o=JSON.stringify({comment:{body_markdown:r}});getCsrfToken().then(sendFetch("comment-preview",o)).then(function(e){return e.json()}).then(n)["catch"](function(e){console.log("error!"),console.log(e)})}function initializeCommentsPage(){if(document.getElementById("comments-container")){toggleCodeOfConduct();var e,t=document.getElementById("comments-container").dataset.commentableId,n=document.getElementById("comments-container").dataset.commentableType;(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE){for(var t=JSON.parse(e.response),n=t.reactions,r=document.getElementsByClassName("single-comment-node"),o=t.positive_reaction_counts,i=0;i<n.length;i++){(a=document.getElementById("button-for-comment-"+n[i].reactable_id))&&a.classList.add("reacted")}for(i=0;i<o.length;i++){var a;(a=document.getElementById("button-for-comment-"+o[i].id))&&o[i].count>0&&(document.getElementById("reactions-count-"+o[i].id)?document.getElementById("reactions-count-"+o[i].id).innerHTML=o[i].count:a.innerHTML=a.innerHTML+"<span class='reactions-count' id='reactions-count-"+o[i].id+"'>"+o[i].count+"</span>")}for(i=0;i<r.length;i++)if(r[i].dataset.commentAuthorId==t.current_user.id){r[i].dataset.currentUserComment="true";var s=r[i].children[0].children[2].children[0],c=document.getElementById("button-for-comment-"+r[i].dataset.commentId);s&&c&&(s.className="current-user-actions",s.style.display="inline-block",document.getElementById("button-for-comment-"+r[i].dataset.commentId).classList.add("reacted"))}}};Date.now().toString();e.open("GET","/reactions?commentable_id="+t+"&commentable_type="+n,!0),e.send();for(var r=document.getElementsByClassName("reaction-button"),o=0;o<r.length;o++){r[o].onclick=function(e){function t(e){var t=n.children[2];"create"===e.result?(n.classList.add("reacted"),t&&(t.innerHTML=parseInt(t.innerHTML)+1)):(n.classList.remove("reacted"),t&&(t.innerHTML=parseInt(t.innerHTML)-1))}e.preventDefault();var n=this;if("logged-out"!==document.getElementsByTagName("body")[0].getAttribute("data-user-status")){n.classList.add("reacted");var r=new FormData;r.append("reactable_type","Comment"),r.append("reactable_id",n.dataset.commentId),getCsrfToken().then(sendFetch("reaction-creation",r)).then(function(e){200===e.status&&e.json().then(t)})}else showModal("react-to-comment")}}var i=document.getElementsByClassName("toggle-reply-form");for(o=0;o<i.length;o++){i[o].onclick=function(e){if(e.preventDefault(),e.target.classList.contains("thread-indication"))return!1;if("logged-out"!=document.getElementsByTagName("body")[0].getAttribute("data-user-status")){var r=e.target.parentNode,o=r.dataset.commentId;document.getElementById("button-for-comment-"+r.dataset.commentId).style.zIndex="5";var i=setInterval(function(){document.querySelector("meta[name='csrf-token']")&&(clearInterval(i),r.innerHTML=buildCommentFormHTML(t,n,o),setTimeout(function(){r.getElementsByTagName("textarea")[0].focus()},30))},1);return!1}showModal("reply-to-comment")}}var a=document.getElementsByClassName("edit-butt");for(o=0;o<a.length;o++){a[o].onclick=function(){}}document.getElementById("new_comment")&&(document.getElementById("new_comment").onsubmit=handleCommentSubmit)}}function toggleCodeOfConduct(){var e=userData();if(e){var t=e.checked_code_of_conduct,n=e.number_of_comments,r=document.getElementById("toggle-code-of-conduct-checkbox");r&&!t&&n<1&&(r.innerHTML='<input type="checkbox" name="checked_code_of_conduct" class="checkbox" required/>                                  <label for="checked_code_of_conduct"/>I\'ve read the <a href="https://dev.to/code-of-conduct">code of conduct</a></label>')}}function replaceActionButts(e){var t="",n=e.getElementsByClassName("actions")[0];"true"==e.dataset.currentUserComment&&(t='<a data-no-instant href="'+e.parentNode.parentNode.dataset.path+'/delete_confirm" class="edit-butt">DELETE</a>                            <a href="'+e.parentNode.parentNode.dataset.path+'/edit">EDIT</a>'),n.innerHTML='<span class="current-user-actions">'+t+'</span><a href="#" class="toggle-reply-form">REPLY</a>'}function handleCommentSubmit(e){e.preventDefault();var t=e.target;t.classList.add("submitting");var n=document.getElementById("comment-node-"+e.target.dataset.commentId),r=JSON.stringify({comment:{body_markdown:t.getElementsByTagName("textarea")[0].value,commentable_id:t.querySelector("#comment_commentable_id").value,commentable_type:t.querySelector("#comment_commentable_type").value,parent_id:t.querySelector("#comment_parent_id")?t.querySelector("#comment_parent_id").value:null}});return getCsrfToken().then(sendFetch("comment-creation",r)).then(function(e){return 200===e.status&&e.json().then(function(e){var r=document.createElement("div");if("comment already exists"==e.status)return!1;if("errors"==e.status)return alert("There was a problem submitting this comment."),!1;r.innerHTML=buildCommentHTML(e);var o=document.getElementsByTagName("body")[0],i=JSON.parse(o.getAttribute("data-user"));i.checked_code_of_conduct=!0,o.dataset.user=JSON.stringify(i);var a=t.getElementsByClassName("code-of-conduct")[0];a&&(a.innerHTML="");var s=document.getElementById("new_comment");if(n){replaceActionButts(n),e.depth>2&&(n.getElementsByClassName("toggle-reply-form")[0].innerHTML="");var c=n.getElementsByClassName("inner-comment")[0];c.parentNode.insertBefore(r,c.nextSibling)}else if(s){s=document.getElementById("new_comment");var l=document.getElementById("text-area");s.classList.remove("submitting"),l.value="",l.classList="";var u=document.getElementById("preview-div");u.classList.add("preview-toggle"),u.innerHTML="";var d=document.getElementById("comment-trees-container");d.insertBefore(r,d.firstChild)}else if(document.getElementById("notifications-container")){var f=document.createElement("span");f.innerHTML='<div class="reply-sent-notice">Reply sent \u2014 <a href="'+e.url+'">Check it out</a></div>',t.replaceWith(f)}else window.location.replace(e.url);initializeCommentsPage(),initializeCommentDropdown()}),!1}),!1}function handleFocus(e){var t=document.getElementsByTagName("body")[0].getAttribute("data-user-status"),n=e.target;"logged-out"==t?(e.preventDefault(),showModal("reply-to-comment"),n.blur(),setTimeout(function(){n.blur(),showModal("reply-to-comment")},100)):handleSizeChange(e)}function handleBlur(){setTimeout(function(){var e=document.getElementById("text-area");0==e.value.length&&(e.className="")},100)}function handleKeyUp(e){handleSizeChange(e)}function handleSubmit(e){var t=userData();if(t&&(t.number_of_comments>=1&&""!==e.target.value.trim())){var n=e.target.parentElement.parentElement.id||e.target.parentElement.id;document.querySelector("#"+n+' input[type="submit"].comment-action-button').click()}}function handleBoldAndItalic(e){var t=e.target,n=t.value.substring(t.selectionStart,t.selectionEnd),r=t.selectionStart,o=e.keyCode===KEY_CODE_B?"**":"_";replaceSelectedText(t,`${o}${n}${o}`);var i=r+o.length;t.setSelectionRange(i,i+n.length)}function handleLink(e){var t=e.target,n=t.value.substring(t.selectionStart,t.selectionEnd),r=t.selectionStart;replaceSelectedText(t,`[${n}](url)`);var o=r+n.length+3,i=o+3;t.setSelectionRange(o,i)}function replaceSelectedText(e,t){document.execCommand("insertText",!1,t)||"function"==typeof e.setRangeText&&e.setRangeText(t)}function handleKeyDown(e){if(e.ctrlKey||e.metaKey)switch(e.keyCode){case KEY_CODE_B:case KEY_CODE_I:e.preventDefault(),handleBoldAndItalic(e);break;case KEY_CODE_K:e.preventDefault(),handleLink(e);break;case ENTER_KEY_CODE:e.preventDefault(),handleSubmit(e)}}function handleSizeChange(e){var t=e.target.value.split(/\r*\n/).length;document.getElementById("text-area").className=t>11?"embiggened-max":t>6?"embiggened-more":"embiggened"}function validateField(e){document.getElementById("text-area")&&(""==document.getElementById("text-area").value&&e.preventDefault())}function generateUploadFormdata(e){var t=document.querySelector("meta[name='csrf-token']").content,n=new FormData;return n.append("authenticity_token",t),n.append("image",e[0]),n}function handleImageUpload(e,t){document.getElementById("comments-container").dataset.commentableId;e.preventDefault(),document.getElementById("image-upload-"+t).click(),document.getElementById("image-upload-"+t).onchange=function(){document.getElementById("image-upload-"+t).files.length>0&&(document.getElementById("image-upload-file-label-"+t).style.color="#888888",document.getElementById("image-upload-file-label-"+t).innerHTML="Uploading...",document.getElementById("image-upload-submit-"+t).value="uploading",setTimeout(function(){document.getElementById("image-upload-submit-"+t).click(function(){})},50))},document.getElementById("image-upload-submit-"+t).onclick=function(e){e.preventDefault();var n=document.getElementById("image-upload-"+t).files;n.length>0&&getCsrfToken().then(sendFetch("image-upload",generateUploadFormdata(n))).then(function(e){200===e.status?e.json().then(function(e){var n=document.getElementById("uploaded-image-"+t),r=(document.getElementById("image-upload-button-"+t),document.getElementById("image-upload-file-label-"+t));r.style.display="none",n.value=e.link,n.classList.add("showing"),n.select();var o="Uploaded! Paste into editor";r.innerHTML=o,r.style.color="#00c673",r.style.position="relative",r.style.top="5px"}):(document.getElementById("image-upload-file-label-"+t).innerHTML="Invalid file!",document.getElementById("image-upload-file-label-"+t).style.color="#e05252",document.getElementById("image-upload-submit-"+t).style.display="none")})["catch"](function(){})}}function initializeDrawerSliders(){initializeSwipeGestures.called||(swipeState="middle",initializeSwipeGestures()),document.getElementById("on-page-nav-controls")&&(document.getElementById("sidebar-bg-left")&&(document.getElementById("sidebar-bg-left").onclick=function(){swipeState="middle",slideSidebar("left","outOfView")}),document.getElementById("sidebar-bg-right")&&(document.getElementById("sidebar-bg-right").onclick=function(){swipeState="middle",slideSidebar("right","outOfView")}),document.getElementById("on-page-nav-butt-left")&&(document.getElementById("on-page-nav-butt-left").onclick=function(){swipeState="left",slideSidebar("left","intoView")}),document.getElementById("on-page-nav-butt-right")&&(document.getElementById("on-page-nav-butt-right").onclick=function(){swipeState="right",slideSidebar("right","intoView")}),InstantClick.on("change",function(){document.getElementsByTagName("body")[0].classList.remove("modal-open"),slideSidebar("right","outOfView"),slideSidebar("left","outOfView")}),listenForNarrowMenuClick())}function listenForNarrowMenuClick(){
for(var e=document.getElementsByClassName("narrow-nav-menu"),t=document.getElementById("narrow-feed-butt"),n=0;n<e.length;n++)document.getElementById("narrow-nav-menu").classList.remove("showing");t&&(t.onclick=function(){document.getElementById("narrow-nav-menu").classList.add("showing")});for(n=0;n<e.length;n++)e[n].onclick=function(){document.getElementById("narrow-nav-menu").classList.remove("showing")}}function initializeFetchFollowedArticles(){document.getElementById("featured-story-marker")&&checkUserLoggedIn()&&algoliaFollowedArticles()}function insertArticle(e,t,n){if(e){var r=document.createElement("DIV");r.innerHTML=buildArticleHTML(e),t.insertBefore(r,n),initializeReadingListIcons()}}function insertInitialArticles(e){var t=document.getElementById("home-articles-object");t&&(t.innerHTML="",insertNewArticles(e),insertTopArticles(e),t.outerHTML="")}function insertNewArticles(e){var t=document.getElementById("new-articles-object"),n=JSON.parse(t.dataset.articles),r=document.getElementById("article-index-hidden-div");r&&(n.forEach(function(t){var n=0,r=findOne([t.user_id],e.followed_user_ids||[]),o=findOne([t.organization_id],e.followed_organization_ids||[]),i=intersect_arrays(e.followed_tag_names,t.cached_tag_list_array),a=1;JSON.parse(e.followed_tags).map(function(e){i.includes(e.name)&&(a+=e.points)}),n=n+2*a+t.positive_reactions_count,(r||t.user_id===e.id)&&(n+=16),o&&(n+=16),t.points=n}),n.sort(function(e,t){return t.points-e.points}).forEach(function(e){var t=r.parentNode;e.points>15&&!document.getElementById("article-link-"+e.id)&&insertArticle(e,t,r)}))}function insertTopArticles(e){var t=document.getElementById("home-articles-object"),n=JSON.parse(t.dataset.articles),r=document.getElementById("article-index-hidden-div");r&&(n.forEach(function(t){var n=0,r=findOne([t.user_id],e.followed_user_ids||[]),o=findOne([t.organization_id],e.followed_organization_ids||[]),i=intersect_arrays(e.followed_tag_names,t.cached_tag_list_array),a=1;JSON.parse(e.followed_tags).map(function(e){i.includes(e.name)&&(a+=e.points)}),n+=a,r&&(n+=1),o&&(n+=1),t.points=n}),n.sort(function(e,t){return t.points-e.points}).forEach(function(e){var t=r.parentNode;e.points>0&&!document.getElementById("article-link-"+e.id)&&insertArticle(e,t,r)}))}function algoliaFollowedArticles(){var e=userData();if(e&&e.followed_tag_names&&e.followed_tag_names.length>0){insertInitialArticles(e);var t=[];e.followed_user_ids&&(t=e.followed_user_ids.map(function(e){return"user_"+e}));var n=algoliasearch("YE5Y9R600C","OTU1YjU5MWNlZTk1MjQ0YmExOTRjZmY4NDM2ZTM2YWZiYTM2ODA2NThhMzNjMDkzYTEzYjFmNDY0MDcwNjRkOHJlc3RyaWN0SW5kaWNlcz1zZWFyY2hhYmxlc19wcm9kdWN0aW9uJTJDVGFnX3Byb2R1Y3Rpb24lMkNvcmRlcmVkX2FydGljbGVzX3Byb2R1Y3Rpb24lMkNvcmRlcmVkX2FydGljbGVzX2J5X3B1Ymxpc2hlZF9hdF9wcm9kdWN0aW9uJTJDb3JkZXJlZF9hcnRpY2xlc19ieV9wb3NpdGl2ZV9yZWFjdGlvbnNfY291bnRfcHJvZHVjdGlvbiUyQ29yZGVyZWRfY29tbWVudHNfcHJvZHVjdGlvbg=="),r=(n.initIndex("ordered_articles_production"),{hitsPerPage:20,page:"0",attributesToHighlight:[],tagFilters:[e.followed_tag_names.concat(t)]}),o=document.getElementById("index-container");"base-feed"===o.dataset.feed?articlesIndex=n.initIndex("ordered_articles_production"):"latest"===o.dataset.feed?articlesIndex=n.initIndex("ordered_articles_by_published_at_production"):(r.filters="published_at_int > "+o.dataset.articlesSince,articlesIndex=n.initIndex("ordered_articles_by_positive_reactions_count_production")),articlesIndex.search("*",r).then(function(e){var t=document.getElementById("article-index-hidden-div");if(t){var n=t.parentNode;e.hits.forEach(function(e){document.getElementById("article-link-"+e.id)||insertArticle(e,n,t)})}var r=document.getElementById("home-articles-object");r&&(r.outerHTML="")})}}function findOne(e,t){return t.some(function(t){return e.indexOf(t)>=0})}function intersect_arrays(e,t){for(var n=e.concat().sort(),r=t.concat().sort(),o=[],i=0,a=0;i<e.length&&a<t.length;)n[i]===r[a]?(o.push(n[i]),i++,a++):n[i]<r[a]?i++:a++;return o}function initializeFooterMod(){var e=document.getElementById("footer-container");e&&document.getElementById("page-content").className.indexOf("stories-show")>-1?document.getElementById("footer-container").classList.remove("centered-footer"):e&&document.getElementById("footer-container").classList.add("centered-footer")}function initializeLiveArticle(){initializeLiveArticle.called=!0;var e=document.getElementById("live-article-indicator"),t=document.getElementById("article-show-container");e&&t&&"true"==t.dataset.live&&(e.innerHTML=""),window.fetch("/live_articles").then(function(t){t.json().then(function(t){checkForOnPage(t),!0===localStorageTest()&&localStorage.getItem("exited_live_article_alert")==t.path||t.path&&-1==window.location.href.indexOf(t.path)&&-1==window.location.href.indexOf("/live")&&(e.innerHTML=liveIndicator(t),document.getElementById("live-exit-button").onclick=function(n){n.preventDefault(),e.innerHTML="",n.target.innerHTML="",!0===localStorageTest()&&localStorage.setItem("exited_live_article_alert",t.path)},e.onclick=function(){setTimeout(function(){document.getElementById("live-article-indicator-inner")&&(fadeOutElement(document.getElementById("live-article-indicator-inner")),fadeOutElement(document.getElementById("live-exit-button")))},20)})})})}function liveIndicator(e){var t=e.tag_list.map(function(e){return"<span class='live-tag'>#"+e+"</span>"}).join(" ");return'<a href="#" class="live-exit-button" id="live-exit-button"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/cancel.svg" alt="Cancel" /></a>          <a href="'+e.path+'" class="live-link" id="live-link"><div class="live-article-indicator-inner" id="live-article-indicator-inner">            <div class="live-pre-header"><span class="pulsating-circle"></span>Live Now</div>            <div class="live-article-title">'+e.title+'</div>            <div class="live-user"><img src="'+e.user.profile_pic+'" />'+e.user.name+'</div>            <div class="live-tags">'+t+"</div>          </div></a>"}function fadeOutElement(e){var t=setInterval(function(){e.style.opacity||(e.style.opacity=1),e.style.opacity<.1?clearInterval(t):e.style.opacity-=.1},25)}function checkForOnPage(e){InstantClick!=undefined&&InstantClick.on("change",function(){e.path&&window.location.href.indexOf(e.path)>-1&&document.getElementById("live-article-indicator-inner")&&(fadeOutElement(document.getElementById("live-article-indicator-inner")),fadeOutElement(document.getElementById("live-exit-button")))})}function initializeLocalStorageRender(){try{var e=browserStoreCache("get");e&&(document.getElementsByTagName("body")[0].dataset.user=e,initializeBaseUserData(),initializeReadingListIcons(),initializeAllFollowButts(),initializeReadingListPage(),initializeSponsorshipVisibility())}catch(t){browserStoreCache("remove")}}function initializePodcastPlayback(){function e(e){return document.getElementById(e)}function t(e){return document.getElementsByClassName(e)}function n(){return e("audio")&&!e("audio").paused}function r(){return e(`record-${window.activeEpisode}`)}function o(t){n()&&r()&&(e(`record-${window.activeEpisode}`).classList.add("playing"),m(t||"playing"))}function i(){window.activeEpisode&&e(`record-${window.activeEpisode}`)&&(e(`record-${window.activeEpisode}`).classList.remove("playing"),window.activeEpisode=undefined)}function a(){var e=t("record-wrapper"),n=t("podcastliquidtag__record");return e.length>0?e:n}function s(t){e("barPlayPause").onclick=function(){w(t)},e("mutebutt").onclick=function(){_(t)},e("volbutt").onclick=function(){_(t)},e("bufferwrapper").onclick=function(e){k(e,t)},e("volumeslider").value=100*t.volume,e("volumeslider").onchange=function(e){t.volume=e.target.value/100},e("speed").onclick=function(){f(t)},e("closebutt").onclick=function(){x(t)}}function c(t){return-1!==e("audiocontent").innerHTML.indexOf(`${t}`)}function l(e){return function(t){E(t,e)}}function u(t){e("audiocontent").innerHTML=e(`hidden-audio-${t}`).innerHTML;var n=e("audio");n.addEventListener("timeupdate",l(n),!1),n.load(),w(n),s(n)}function d(){var t=a();Array.prototype.forEach.call(t,function(t){var n=t.getAttribute("data-episode");t.getAttribute("data-podcast");t.onclick=function(){if(c(n)){var t=e("audio");t&&w(t)}else i(),u(n)}})}function f(t){var n=e("speed"),r=parseFloat(n.getAttribute("data-speed"));2==r?(n.setAttribute("data-speed",.5),n.innerHTML="0.5x",t.playbackRate=.5):(n.setAttribute("data-speed",r+.5),n.innerHTML=r+.5+"x",t.playbackRate=r+.5)}function m(t){e(`status-message-${window.activeEpisode}`)?e(`status-message-${window.activeEpisode}`).innerHTML=t:"loading"===t&&document.querySelector(".status-message")&&(document.querySelector(".status-message").innerHTML=t)}function p(){var e="You are currently playing a podcast. Are you sure you want to leave?";window.onclick=function(t){"A"!==t.target.tagName||t.target.href.includes("https://dev.to")||(t.preventDefault(),window.confirm(e)&&(window.location=t.target.href))},window.onbeforeunload=function(){return e}}function h(){e("barPlayPause").classList.add("playing"),e("progressBar").classList.add("playing"),e("animated-bars").classList.add("playing")}function g(e){e.play().then(function(){o(),h(),p()},function(){})["catch"](function(){e.play(),setTimeout(function(){o("loading"),h(),p()},300)})}function y(){window.onbeforeunload=function(){return null}}function v(){e("barPlayPause").classList.remove("playing"),e("animated-bars").classList.remove("playing")}function b(e){e.pause(),i(),v(),y()}function w(e){m("loading"),window.activeEpisode=e.getAttribute("data-episode"),window.activePodcast=e.getAttribute("data-podcast"),e.paused?(ga("send","event","click","play podcast",`${window.activePodcast} ${window.activeEpisode}`,null),g(e)):(ga("send","event","click","pause podcast",`${window.activePodcast} ${window.activeEpisode}`,null),b(e))}function _(t){t.muted?(t.muted=!1,e("mutebutt").classList.add("hidden"),e("volumeindicator").classList.add("showing"),e("mutebutt").classList.remove("showing"),e("volumeindicator").classList.remove("hidden")):(t.muted=!0,e("mutebutt").classList.add("showing"),e("volumeindicator").classList.add("hidden"),e("mutebutt").classList.remove("hidden"),e("volumeindicator").classList.remove("showing"))}function E(t,n){var r=e("progress"),o=e("buffer"),i=e("time"),a=0,s=0;n.currentTime>0&&(a=Math.floor(100/n.duration*n.currentTime),s=n.buffered.end(n.buffered.length-1)/n.duration*100),r.style.width=a+"%",o.style.width=s+"%",i.innerHTML=T(n.currentTime)+" / "+T(n.duration)}function k(t,n){var r=e("progress");if(t.clientX>128){var o=(t.clientX-128)/(window.innerWidth-133),i=n.duration;n.currentTime=i*o,time.innerHTML=T(n.currentTime)+" / "+T(n.duration),r.style.width=100*o+"%"}}function T(e){var t=Math.floor(e),n=Math.floor(t/60);return(n=n>=10?n:"0"+n)+":"+(t=(t=Math.floor(t%60))>=10?t:"0"+t)}function x(t){event.stopPropagation(),t.removeEventListener("timeupdate",l,!1),e("audiocontent").innerHTML="",i(),y()}o(),d()}function initializeReadingListIcons(){for(var e=document.getElementsByClassName("bookmark-engage"),t=0;t<e.length;t++)highlightButton(e[t]);addReadingListCountToHomePage()}function highlightButton(e){var t=userData(),n=parseInt(e.dataset.reactableId);t&&t.reading_list_ids.indexOf(n)>-1?e.classList.add("selected"):e.classList.remove("selected"),e.addEventListener("click",reactToReadingListButtonClick)}function addReadingListCountToHomePage(){var e=userData();if(e&&document.getElementById("reading-list-count")){var t=e.reading_list_ids.length>0?e.reading_list_ids.length:"EMPTY";document.getElementById("reading-list-count").innerHTML="("+t+")",document.getElementById("reading-list-count").dataset.count=e.reading_list_ids.length}}function reactToReadingListButtonClick(e){if(e.preventDefault(),sendHapticMessage("medium"),"logged-out"!=document.getElementsByTagName("body")[0].getAttribute("data-user-status")){var t=properButtonFromEvent(e);renderOptimisticResult(t),getCsrfToken().then(sendFetch("reaction-creation",buttonFormData(t))).then(function(e){if(200===e.status)return e.json().then(function(e){renderButtonState(t,e),renderNewSidebarCount(t,e)})})["catch"](function(){})}else showModal("add-to-readinglist-from-index")}function renderButtonState(e,t){"create"===t.result?e.classList.add("selected"):e.classList.remove("selected")}function renderNewSidebarCount(e,t){var n=parseInt(document.getElementById("reading-list-count").dataset.count);"create"===t.result?newCount=n+1:0!=n&&(newCount=n-1),document.getElementById("reading-list-count").dataset.count=newCount,document.getElementById("reading-list-count").innerHTML="("+newCount+")"}function buttonFormData(e){var t=new FormData;return t.append("reactable_type","Article"),t.append("reactable_id",e.dataset.reactableId),t.append("category","readinglist"),t}function renderOptimisticResult(e){renderButtonState(e,{result:"create"})}function properButtonFromEvent(e){return"BUTTON"==e.target.tagName?e.target:e.target.parentElement}function initializeReadingListPage(){if(getCurrentPage("reading_list_items-index")&&checkUserLoggedIn()){client=algoliasearch("YE5Y9R600C","OTU1YjU5MWNlZTk1MjQ0YmExOTRjZmY4NDM2ZTM2YWZiYTM2ODA2NThhMzNjMDkzYTEzYjFmNDY0MDcwNjRkOHJlc3RyaWN0SW5kaWNlcz1zZWFyY2hhYmxlc19wcm9kdWN0aW9uJTJDVGFnX3Byb2R1Y3Rpb24lMkNvcmRlcmVkX2FydGljbGVzX3Byb2R1Y3Rpb24lMkNvcmRlcmVkX2FydGljbGVzX2J5X3B1Ymxpc2hlZF9hdF9wcm9kdWN0aW9uJTJDb3JkZXJlZF9hcnRpY2xlc19ieV9wb3NpdGl2ZV9yZWFjdGlvbnNfY291bnRfcHJvZHVjdGlvbiUyQ29yZGVyZWRfY29tbWVudHNfcHJvZHVjdGlvbg=="),readinglistIndex=client.initIndex("ordered_articles_production"),commentsIndex=client.initIndex("ordered_comments_production");var e=getQueryParams(document.location.search);document.getElementById("substories").dataset.tabs='{"v": "'+(e.v||"")+'", "t": "'+(e.t||"")+'" }',postCommentFilter(),getArticlesTags(),document.getElementById("load-more-cta").onclick=function(e){e.target.classList.remove("showing");var t=document.getElementsByClassName("single-article").length+PER_PAGE;getArticles(currentTag(),t)}}}function currentTag(){return JSON.parse(substories.dataset.tabs).t||""}function getArticlesTags(){var e=userData().reading_list_ids.map(function(e){return"articles-"+e}),t={};readinglistIndex.getObjects(e,function(e,n){n.results.forEach(function(e){e&&e.tag_list.forEach(function(e){t[e]?t[e]=t[e]+1:t[e]=1})}),renderTags(t),document.getElementById("tag-filter-widget").setAttribute("data-tags",JSON.stringify(t)),initializeReadingListIcons()})}function tagsCounts(){var e=document.getElementById("tag-filter-widget").getAttribute("data-tags");return e?JSON.parse(e):{}}function getArticles(e,t=PER_PAGE){var n=userData(),r=document.getElementById("substories"),o=n.reading_list_ids.slice(0,999).map(function(e){return"articles-"+e}),i=[],a=!1,s=""!=e;readinglistIndex.getObjects(o,function(n,o){if(s){var c=o.results;for(var l in c){if(i.length>=t)break;c[l]&&c[l].tag_list.indexOf(e)>-1&&i.push(buildArticleHTML(c[l]))}a=tagsCounts()[e]>t}else o.results.slice(0,t).forEach(function(e){e&&i.push(buildArticleHTML(e))}),a=t<o.results.length;if(r.innerHTML=i.join(""),0==i.length){var u="<div style='text-align:left;margin-top:20px;'>This is where to find your bookmarked posts, but it looks like you have not bookmarked anything.</div>";r.innerHTML=u}var d=document.getElementById("load-more-cta");a?d.classList.add("showing"):d.classList.remove("showing")})}function getComments(){var e=userData().reading_list_ids.map(function(e){return"commentable_Article_"+e}),t=document.getElementById("substories"),n=JSON.parse(t.dataset.tabs);commentsIndex.search("*",{hitsPerPage:PER_PAGE,attributesToHighlight:[],tagFilters:[e,n.t]}).then(function(e){var t=document.getElementById("substories"),n=[];e.hits.forEach(function(e){var t="";t=t+'<div class="comment-view-parent comment-view-commentable"><a href="'+e.commentable.path+'">Re: '+e.commentable.title+"</a></div>",e.parent_path&&(t=t+'<div class="comment-view-parent"><a href="'+e.root_path+'">VIEW COMMENT TREE</a></div>'),n.push(t+buildCommentHTML(e))}),t.innerHTML='<div class="comment-trees"><h2>Recent Comment Activity</h2>'+n.join("<br/>")+"</div>",initializeCommentDropdown(),initializeCommentsPage()})}function renderTags(e){var t=[];for(var n in e)t.push([n,e[n]]);t.sort(function(e,t){return t[1]-e[1]});var r=[];t.forEach(function(e){var t='<button class="query-filter-button query-tag-filter-button" data-tag="'+e[0]+'">#'+e[0]+" ("+e[1]+")</button>";r.push(t)}),document.getElementById("tag-filters").innerHTML=r.join("");var o=getQueryParams(document.location.search);tagFilters(n=filterXSS(o.t||""))}function getQueryParams(e){e=e.split("+").join(" ");for(var t,n={},r=/[?&]?([^=]+)=([^&]*)/g;t=r.exec(e);)n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return n}function tagFilters(e){for(var t=document.getElementById("substories"),n=document.getElementsByClassName("query-tag-filter-button"),r=0;r<n.length;r++)n[r].classList.remove("selected"),e==n[r].dataset.tag&&n[r].classList.add("selected"),n[r].onclick=function(e){var r=e.target.dataset.tag;window.scrollTo(0,0);for(var o=e.target.className,i=JSON.parse(t.dataset.tabs),a=0;a<n.length;a++)n[a].classList.remove("selected");-1==o.indexOf("selected")?(e.target.classList.add("selected"),assignTab(i,"t",r),getStories()):(assignTab(i,"t",""),getStories())}}function postCommentFilter(){var e=document.getElementById("substories"),t=JSON.parse(e.dataset.tabs);getStories();for(var n=document.getElementsByClassName("query-type-filter-button"),r=0;r<n.length;r++)n[r].classList.remove("selected"),(t.v||"posts")===n[r].dataset.type&&n[r].classList.add("selected"),n[r].onclick=function(t){for(var r=0;r<n.length;r++)n[r].classList.remove("selected");assignTab(JSON.parse(e.dataset.tabs),"v",t.target.dataset.type),t.target.classList.add("selected"),getStories()}}function getStories(){var e=document.getElementById("substories"),t=JSON.parse(e.dataset.tabs);"comments"==t.v?getComments(t.t||""):getArticles(t.t||"",PER_PAGE)}function assignTab(e,t,n){return e[t]=n,substories.dataset.tabs=JSON.stringify(e),window.history.replaceState(null,null,"/readinglist"+urlParams(e)),e}function urlParams(e){return e.v.length>0&&e.t.length>0?"?v="+e.v+"&t="+e.t:e.v.length>0?"?v="+e.v:e.t.length>0?"?t="+e.t:""}function initializeSettings(){document.getElementById("settings-org-secret")&&(document.getElementById("settings-org-secret").onclick=function(e){e.target.select()})}function sendSplitViewData(e){ga("send",{hitType:"event",eventCategory:"Split Test",eventAction:"view",eventLabel:"Version: "+e})}function isHidden(e){return null===e.offsetParent}function initializeSplitTestTracking(){setTimeout(function(){for(var e=document.getElementsByClassName("split-test-tracking-div"),t=0;t<e.length;t++)"function"!=typeof ga||isHidden(e[t])||sendSplitViewData(e[t].dataset.version)},350)}function trackOutboundLink(e,t){window.ga&&ga.loaded?ga("send","event","Split Test","signup-click","Version: "+t,{transport:"beacon",hitCallback:function(){document.location=e}}):window.location=e}function initializeSponsorshipVisibility(){var e=document.getElementById("sponsorship-widget")||document.getElementById("partner-content-display"),t=userData();e&&setTimeout(function(){window.ga&&0===document.querySelectorAll("[data-partner-seen]").length&&(ga("send","event","view","sponsor displayed on page",e.dataset.details,null),e.dataset.partnerSeen="true")},400),e&&t&&t.display_sponsors?(e.classList.add("showing"),listenForSponsorClick()):e&&t?e.classList.remove("showing"):e&&(e.classList.add("showing"),listenForSponsorClick())}function listenForSponsorClick(){setTimeout(function(){if(window.ga)for(var e=document.getElementsByClassName("partner-link"),t=0;t<e.length;t++)e[t].onclick=function(e){e.target.classList.contains("follow-action-button")&&(handleOptimisticButtRender(e.target),handleFollowButtPress(e.target)),ga("send","event","click","click sponsor link",e.target.dataset.details,null)}},400)}function initializeStylesheetAppend(){if(!document.getElementById("main-head-stylesheet")){var e=document.createElement("link");e.type="text/css",e.id="main-head-stylesheet",e.rel="stylesheet",e.href="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/minimal-046334de3ebfd8c97445f563caf30b4406cf973cf2ace0959685219a14a80560.css",document.getElementsByTagName("head")[0].appendChild(e)}}function initializeSwipeGestures(){initializeSwipeGestures.called=!0,swipeState="middle",setTimeout(function(){!function(e){var t=function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!0,!0,e.target),e.target.dispatchEvent(n),n=null,!1},n=!0,r={x:0,y:0},o={x:0,y:0},i={touchstart:function(e){r={x:e.touches[0].pageX,y:e.touches[0].pageY,scrollY:window.scrollY}},touchmove:function(e){n=!1,o={x:e.touches[0].pageX,y:e.touches[0].pageY,scrollY:window.scrollY}},touchend:function(e){if(n)t(e,"fc");else{var i=o.x-r.x,a=Math.abs(i),s=o.y-r.y,c=Math.abs(s),l=Math.abs(r.scrollY-o.scrollY);if(Math.max(a,c)>15)t(e,a/2>c&&l<5?i<0?"swl":"swr":s<0?"swu":"swd")}n=!0},touchcancel:function(){n=!1}};for(var a in i)e.addEventListener(a,i[a],!1)}(document);document.body.addEventListener("swl",handleSwipeLeft,!1),document.body.addEventListener("swr",handleSwipeRight,!1)},50)}function handleSwipeLeft(){document.getElementById("on-page-nav-controls")&&("middle"==swipeState?(swipeState="right",slideSidebar("right","intoView")):(swipeState="middle",slideSidebar("left","outOfView")))}function handleSwipeRight(){document.getElementById("on-page-nav-controls")&&("middle"==swipeState?(swipeState="left",slideSidebar("left","intoView")):(swipeState="middle",slideSidebar("right","outOfView")))}function initializeTimeFixer(){function e(e){var t=new Date(e),n={hour:"numeric",minute:"numeric",timeZoneName:"short"};return t=new Intl.DateTimeFormat("en-US",n).format(t)}function t(t){for(var n,r=0;r<t.length;r++)n=e(t[r].dataset.datetime),t[r].innerHTML=n}function n(e){var t=new Date(e),n={month:"short",day:"numeric"};return t=new Intl.DateTimeFormat("en-US",n).format(t)}function r(e){for(var t,r=0;r<e.length;r++)t=n(e[r].dataset.datetime),e[r].innerHTML=t}function o(e){var t=new Date(e),n={weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return t=new Intl.DateTimeFormat("en-US",n).format(t)}function i(e){for(var t,n=0;n<e.length;n++)t=o(e[n].innerHTML),e[n].innerHTML=t}var a=document.getElementsByClassName("utc-time"),s=document.getElementsByClassName("utc-date"),c=document.getElementsByClassName("utc");c&&(t(a),r(s),i(c))}function initializeTouchDevice(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|DEV-Native-ios/i.test(navigator.userAgent);"DEV-Native-ios"===navigator.userAgent&&document.getElementsByTagName("body")[0].classList.add("dev-ios-native-body"),setTimeout(function(){removeShowingMenu(),e?document.getElementById("navigation-butt").onclick=function(){document.getElementById("navbar-menu-wrapper").classList.toggle("showing")}:(document.getElementById("navbar-menu-wrapper").classList.add("desktop"),document.getElementById("navigation-butt").onfocus=function(){document.getElementById("navbar-menu-wrapper").classList.add("showing")},document.getElementById("last-nav-link").onblur=function(){setTimeout(function(){console.log(document.activeElement),document.activeElement!=document.getElementById("second-last-nav-link")&&document.getElementById("navbar-menu-wrapper").classList.remove("showing")},10)},document.getElementById("navigation-butt").onblur=function(){setTimeout(function(){console.log(document.activeElement),document.activeElement!=document.getElementById("first-nav-link")&&document.getElementById("navbar-menu-wrapper").classList.remove("showing")},10)}),document.getElementById("menubg").onclick=function(){document.getElementById("navbar-menu-wrapper").classList.remove("showing")}},10)}function removeShowingMenu(){document.getElementById("navbar-menu-wrapper").classList.remove("showing"),setTimeout(function(){document.getElementById("navbar-menu-wrapper").classList.remove("showing")},5),setTimeout(function(){document.getElementById("navbar-menu-wrapper").classList.remove("showing")},150)}function browserStoreCache(e,t){try{if("set"===e)localStorage.setItem("current_user",t);else{if("remove"!==e)return localStorage.getItem("current_user");localStorage.removeItem("current_user")}}catch(n){browserStoreCache("remove")}}function buildArticleHTML(e){if(e&&"podcast_episodes"==e.type_of)return'<div class="single-article single-article-small-pic">      <div class="small-pic">       <a href="/'+e.podcast.slug+'" class="small-pic-link-wrapper">         <img src="'+e.podcast.image_url+'" alt="'+e.podcast.title+' image">       </a>       </div>       <a href="'+e.path+'" class="small-pic-link-wrapper index-article-link" id="article-link-'+e.id+'">        <div class="content">         <h3><span class="tag-identifier">podcast</span>'+e.title+'</h3>        </div>       </a>       <h4><a href="/'+e.podcast.slug+'">'+e.podcast.title+"</a></h4>       </div>";if(e){var t=document.getElementById("index-container"),n="",r=e.tag_list||e.cached_tag_list_array;r&&r.forEach(function(e){n=n+'<a href="/t/'+e+'"><span class="tag">#'+e+"</span></a>\n"});var o="";(e.comments_count||"0")>0&&"User"!=e.class_name&&(o='<div class="article-engagement-count comments-count"><a href="'+e.path+'#comments"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/comments-bubble-7448082accd39cfe9db9b977f38fa6e8f8d26dc43e142c5d160400d6f952ee47.png" alt="chat" /><span class="engagement-count-number">'+(e.comments_count||"0")+"</span></a></div>");var i="";if(t)var a=JSON.parse(t.dataset.params).tag;e.flare_tag&&a!=e.flare_tag.name&&(i="<span class='tag-identifier' style='background:"+e.flare_tag.bg_color_hex+";color:"+e.flare_tag.text_color_hex+"'>#"+e.flare_tag.name+"</span>"),"PodcastEpisode"==e.class_name&&(i="<span class='tag-identifier'>podcast</span>"),"User"==e.class_name&&(i="<span class='tag-identifier' style='background:#5874d9;color:white;'>person</span>");var s=e.positive_reactions_count||e.reactions_count,c="";if((s||"0")>0&&"User"!=e.class_name)c='<div class="article-engagement-count reactions-count"><a href="'+e.path+'"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/reactions-stack-4bb9c1e4b3e71b7aa135d6f9a5ef29a6494141da882edd4fa971a77abe13dbe7.png" alt="heart" /><span id="engagement-count-number-'+e.id+'" class="engagement-count-number">'+(s||"0")+"</span></a></div>";var l=e.user.profile_image_90,u=e.user.username,d="";e.organization&&!document.getElementById("organization-article-index")&&(d='<div class="article-organization-headline"><a href="/'+e.organization.slug+'" class="article-organization-headline-inner"><img src="'+e.organization.profile_image_90+'" />'+e.organization.name+'</a><a class="org-headline-filler" href="'+e.path+'">&nbsp;</a></div>');var f="",m="",p="";if(e._snippetResult&&e._snippetResult.body_text){if("none"!=e._snippetResult.body_text.matchLevel){var h="";(g=e._snippetResult.body_text.value[0]).toLowerCase()!=g.toUpperCase()&&(h="\u2026"),f=h+e._snippetResult.body_text.value+"\u2026"}if("none"!=e._snippetResult.comments_blob.matchLevel&&""===f){var g;h="";(g=e._snippetResult.comments_blob.value[0]).toLowerCase()!=g.toUpperCase()&&(h="\u2026"),m=h+e._snippetResult.comments_blob.value+"\u2026 <i>(comments)</i>"}(f.length>0||m.length>0)&&"Article"==e.class_name&&(p='<div class="search-snippet"><span>'+f+m+"</span></div>")}var y="";if("Article"===e.class_name)y='<button class="article-engagement-count bookmark-engage" data-reactable-id="'+e.id+'">                        <span class="bm-success"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/readinglist-button-e4b1ab5f30d473858ad7869871396fc40796e21a1e79987edd2c689faf8ac455.png" alt="bookmark" /> SAVED</span>                        <span class="bm-initial">SAVE</span>                      </button>';else if("User"===e.class_name)y='<button style="width: 122px" class="article-engagement-count bookmark-engage follow-action-button"                       data-info=\'{"id":'+e.id+',"className":"User"}\' data-follow-action-button>                       &nbsp;                      </button>';var v="";return e.readable_publish_date&&(v="\u30fb"+e.readable_publish_date),'<div class="single-article single-article-small-pic">      '+d+'      <div class="small-pic">       <a href="/'+u+'" class="small-pic-link-wrapper">         <img src="'+l+'" alt="'+u+' profile">       </a>       </div>       <a href="'+e.path+'" class="small-pic-link-wrapper index-article-link" id="article-link-'+e.id+'">        <div class="content">         <h3>'+i+filterXSS(e.title)+"</h3>         "+p+'        </div>       </a>       <h4><a href="/'+e.user.username+'">'+filterXSS(e.user.name)+v+'</a></h4>       <div class="tags">'+n+"</div>       "+o+c+"       "+y+"</div>"}}function buildCommentFormHTML(e,t,n){var r=document.querySelector("meta[name='csrf-token']").getAttribute("content"),o=userData(),i="";o&&!o.codeOfConduct&&o.commentCount<1&&(i='<div class="code-of-conduct sub-comment-code-of-conduct" style="display:block" id="toggle-code-of-conduct-checkbox">                            <input class="checkbox" type="checkbox" name="checked_code_of_conduct" required />                            <label for="checked_code_of_conduct">I\'ve read the <a href="https://dev.to/code-of-conduct">code of conduct</a></label>                          </div>');var a=Math.floor(1991*Math.random());return'<form class="new_comment" onsubmit="handleCommentSubmit.bind(this)(event)" id="new-comment-'+n+'" action="/comments" accept-charset="UTF-8" method="post" data-comment-id="'+n+'">            <input name="utf8" type="hidden" value="&#x2713;" />            <input type="hidden" name="authenticity_token" value="'+r+'">            <input value="'+e+'" type="hidden" name="comment[commentable_id]" id="comment_commentable_id" />            <input value="'+t+'" type="hidden" name="comment[commentable_type]" id="comment_commentable_type" />            <input value="'+n+'" type="hidden" name="comment[parent_id]" id="comment_parent_id" />            <textarea id="textarea-for-'+n+'" class="embiggened" name="comment[body_markdown]" id="comment_body_markdown" required onkeydown="handleKeyDown.bind(this)(event)"></textarea>            '+'<div class="preview-toggle comment-preview-div body"></div>'+"                "+i+'            <a href="/p/editor_guide" class="markdown-guide" target="_blank" title="Markdown Guide">              <img class="icon-image" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/info-e41d8339284ee95aee60021abfd0f2cecd660193460eaf6b58f0c71b36770668.svg" />            </a>            <div class="editor-image-upload">              <input type="file" id="image-upload-'+a+'"  name="file" accept="image/*" style="display:none">              <button  title="Upload Image" class="image-upload-button" id="image-upload-button-'+a+'" onclick="handleImageUpload(event,'+a+')">                <img class="icon-image" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/image-upload-3a2d56cb56c9a8f3242791854c02e6cdc0a3cf71f3d007ea1278e323ffa2abc8.svg" />              </button>              <label  class="image-upload-file-label" id="image-upload-file-label-'+a+'"></label>              <input type="submit" id="image-upload-submit-'+a+'" value="Upload" style="display:none">              <input class="uploaded-image" id="uploaded-image-'+a+'" />            </div>            <div class="actions reply-actions">              <a href="#" class="cancel" onclick="cancel(event,this)">CANCEL</a>              '+'<button id="preview-button" class="comment-action-button comment-action-preview" onclick="handleCommentPreview(event)">PREVIEW</button>'+'              <input type="submit" class="comment-action-button" name="commit" value="SUBMIT" />            </div>          </form>'}function cancel(e,t){e.preventDefault(),replaceActionButts(t.parentNode.parentNode.parentNode.parentNode),initializeCommentsPage()}function buildCommentHTML(e){var t="",n="",r="",o="";return t=e.newly_created?0==e.depth?"root":e.depth<3?"child":"child flat-node":"child flat-node",e.user.twitter_username&&e.user.twitter_username.length>0&&(r='<a href="http://twitter.com/'+e.user.twitter_username+'" rel="noopener noreferrer" target="_blank"><img class="icon-img" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/twitter-logo-42be7109de07f8c991a9832d432c9d12ec1a965b5c0004bca9f6aa829ae43209.svg" alt="Twitter logo" /></a>'),
e.user.github_username&&e.user.github_username.length>0&&(n='<a href="http://github.com/'+e.user.github_username+'" rel="noopener noreferrer" target="_blank"><img class="icon-img" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/github-logo-6a5bca60a4ebf959a6df7f08217acd07ac2bc285164fae041eacb8a148b1bab9.svg" alt="Github logo" /></a>'),e.newly_created&&(o="comment-created-via-fetch"),"<style>"+e.css+'</style>          <div class="comment-hash-marker" id="'+e.id_code+'"></div>          <div id="comment-node-'+e.id+'" class="single-comment-node '+t+" comment-deep-"+e.depth+'" "          data-comment-id="'+e.id+'" data-comment-author-id="'+e.user.id+'" data-current-user-comment="'+e.newly_created+'">          <div class="inner-comment '+o+'">            <div class="details">              <a href="/'+e.user.username+'">                <img class="profile-pic" src="'+e.user.profile_pic+'">                <span class="comment-username"><span class="comment-username-inner">'+e.user.name+"</span></span>              </a>                "+r+"                "+n+'              <div class="comment-date">                <a href="'+e.url+'">'+e.readable_publish_date+'</a>              </div>              <button class="dropbtn">                <img class="dropdown-icon" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/chevron-down-d149f7889a817e8ce4b452ea675aa345211dae83575d079902470fb4e367ea5c.svg" alt="Chevron down" />              </button>              <div class="dropdown">                  <div class="dropdown-content">                    <a href="'+e.url+'">                      Permalink                    </a>                    <a href="/report-abuse?url=https://dev.to'+e.url+'">Report Abuse</a>                  </div>              </div>            </div>            <div class="body">              '+e.body_html+"              "+reactions(e)+"            </div>            "+actions(e)+"          </div>      </div>"}function actions(e){return e.newly_created?'<div class="actions" data-comment-id="'+e.id+'" data-path="'+e.url+'">              <span class="current-user-actions" style="display: '+(e.newly_created?"inline-block":"none")+';">                <a data-no-instant="" href="'+e.url+'/delete_confirm" class="edit-butt" rel="nofollow">DELETE</a>                <a href="'+e.url+'/edit" class="edit-butt" rel="nofollow">EDIT</a>              </span>                <a href="#" class="toggle-reply-form" rel="nofollow">REPLY</a>            </div>':'<div class="actions" data-comment-id="'+e.id+'" data-path="'+e.url+'" data-commentable-id="'+e.commentable.id+'">                <a href="'+e.url+'" rel="nofollow">VIEW/REPLY</a>            </div>'}function reactions(e){if(e.newly_created)return'<button class="reaction-button reacted" id="button-for-comment-'+e.id+'" data-comment-id="'+e.id+'">              <img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/favorite-heart-outline-button-2dcee70f90c0bc12bee8cbc5a8a409ba181e88912814fb0515214204bdc92c71.svg" alt="Favorite heart outline button">              <img class="voted-heart" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/emoji/emoji-one-heart-86ec9beca6e804af6db630e35a1e12ebd169103c0156e881e7f8a38933e1a546.png">              <span class="reactions-count" id="reactions-count-'+e.id+'">1</span></button>';if(e.heart_ids.indexOf(userData().id)>-1)var t="reacted";else t="";return'<button style="background:white" class="reaction-button '+t+'" id="button-for-comment-'+e.id+'" data-comment-id="'+e.id+'">              <img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/favorite-heart-outline-button-2dcee70f90c0bc12bee8cbc5a8a409ba181e88912814fb0515214204bdc92c71.svg" alt="Favorite heart outline button">              <img class="voted-heart" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/emoji/emoji-one-heart-86ec9beca6e804af6db630e35a1e12ebd169103c0156e881e7f8a38933e1a546.png">              <span class="reactions-count" id="reactions-count-'+e.id+'">'+e.positive_reactions_count+"</span></button>"}function checkUserLoggedIn(){return"logged-in"==document.getElementsByTagName("body")[0].getAttribute("data-user-status")}function createAjaxReq(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function getCsrfToken(){return new Promise(function(e,t){var n=0,r=setInterval(function(){var o=document.querySelector("meta[name='csrf-token']");if(n++,o){clearInterval(r);var i=o.getAttribute("content");return e(i)}if(1e3===n){clearInterval(r);var a=new airbrakeJs.Client({projectId:1,projectKey:"4520505f5806ca4578979a09f4fcfe9a"});return a.addFilter(function(e){return e.context.environment="production",e}),a.notify("Could no locate CSRF metatag"+JSON.stringify(localStorage.current_user)),t("Could not locate CSRF meta tag on the page.")}},5)})}function getCurrentPage(e){return document.querySelectorAll("[data-current-page='"+e+"']").length>0}function getImageForLink(e){var t=e.getAttribute("data-preload-image");t&&-1==$fetchedImageUrls.indexOf(t)&&((new Image).src=t,$fetchedImageUrls.push(t))}function updateLocalTime(e){function t(e){var t=new Date(e),n={hour:"numeric",minute:"numeric"};return t=new Intl.DateTimeFormat("en-US",n).format(t)}for(var n=0;n<e.length;n++)localTime=t(e[n].innerHTML),e[n].innerHTML=localTime}function insertAfter(e,t){t&&t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}function localStorageTest(){var e="devtolocalstoragetestforavaialbility";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}function preventDefaultAction(e){e.preventDefault()}function sendFetch(e,t){switch(e){case"article-preview":return function(e){return window.fetch("/articles/preview",{method:"POST",headers:{"X-CSRF-Token":e,Accept:"application/json","Content-Type":"application/json"},body:t,credentials:"same-origin"})};case"reaction-creation":return function(e){return t.append("authenticity_token",e),window.fetch("/reactions",{method:"POST",headers:{"X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"image-upload":return function(e){return t.append("authenticity_token",e),window.fetch("/image_uploads",{method:"POST",headers:{"X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"follow-creation":return function(e){return t.append("authenticity_token",e),window.fetch("/follows",{method:"POST",headers:{"X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"comment-creation":return function(e){return window.fetch("/comments",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"comment-preview":return function(e){return window.fetch("/comments/preview",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":e},body:t,credentials:"same-origin"})};default:console.log("A wrong switchStatement was used.")}}function sendHapticMessage(e){try{window&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.haptic&&window.webkit.messageHandlers.haptic.postMessage(e)}catch(t){console.log(t.message)}}function showModal(){document.getElementById("global-signup-modal").style.display="block",document.getElementById("global-signup-modal").classList.add("showing"),document.getElementsByTagName("body")[0].classList.add("modal-open"),initSignupModal(),sendSplitViewData(document.getElementById("global-signup-modal").dataset.version)}function initSignupModal(){document.getElementById("global-signup-modal")&&(document.getElementById("global-signup-modal-bg").onclick=function(){document.getElementById("global-signup-modal").style.display="none",document.getElementById("global-signup-modal").classList.remove("showing"),document.getElementsByTagName("body")[0].classList.remove("modal-open")})}function slideSidebar(e,t){document.getElementById("sidebar-wrapper-"+e)&&("intoView"===t?(document.getElementById("articles-list").classList.add("modal-open"),document.getElementsByTagName("body")[0].classList.add("modal-open"),document.getElementById("sidebar-wrapper-"+e).classList.add("swiped-in"),document.getElementById("sidebar-wrapper-"+e).scrollTop=0,document.getElementById("articles-list").addEventListener("touchmove",preventDefaultAction,!1)):(document.getElementById("articles-list").classList.remove("modal-open"),document.getElementsByTagName("body")[0].classList.remove("modal-open"),document.getElementById("sidebar-wrapper-"+e).classList.remove("swiped-in"),document.getElementById("articles-list").removeEventListener("touchmove",preventDefaultAction,!1)))}function userData(){return null===document.getElementsByTagName("body")[0].getAttribute("data-user")?null:JSON.parse(document.getElementsByTagName("body")[0].getAttribute("data-user"))}function initializePage(){initializeLocalStorageRender(),initializeStylesheetAppend(),initializeFetchFollowedArticles(),callInitalizers()}function callInitalizers(){initializeLocalStorageRender(),initializeBodyData();var e=setInterval(function(){"true"==document.getElementsByTagName("body")[0].getAttribute("data-loaded")&&(clearInterval(e),"logged-in"==document.getElementsByTagName("body")[0].getAttribute("data-user-status")&&initializeBaseUserData(),initializeReadingListPage(),initializeAllFollowButts(),initializeReadingListIcons(),initializeSponsorshipVisibility(),document.getElementById("sidebar-additional")&&document.getElementById("sidebar-additional").classList.add("showing"))},1);initializeBaseTracking(),initializeTouchDevice(),initializeCommentsPage(),initEditorResize(),initLeaveEditorWarning(),initializeArticleReactions(),initNotifications(),initializeSplitTestTracking(),initializeStylesheetAppend(),initializeCommentDropdown(),initializeSettings(),initializeFooterMod(),initializeCommentPreview(),initializeAdditionalContentBoxes(),initializeTimeFixer(),initializeLiveArticle.called||initializeLiveArticle(),initializeDrawerSliders(),nextPage=0,fetching=!1,done=!1,setTimeout(function(){done=!1},300),initScrolling.called||initScrolling()}function initializeBaseApp(){InstantClick.on("change",function(){initializePage()}),InstantClick.init()}function initializeAirbrake(){var e=new airbrakeJs.Client({projectId:1,projectKey:"4520505f5806ca4578979a09f4fcfe9a"});e.addFilter(function(e){return e.context.environment="production",(e.errors[0].backtrace[0].file||"").startsWith("https://stats.pusher.com")?null:e});try{initializeBaseApp()}catch(t){e.notify(t)}}var KEY_CODE_B=66,KEY_CODE_I=73,KEY_CODE_K=75,ENTER_KEY_CODE=13;const PER_PAGE=45;var $fetchedImageUrls=[];!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){function r(){return{}}function o(){}function i(){}function a(){}function s(){}function c(e){return e.replace(x,"&lt;").replace(I,"&gt;")}function l(e,t,n,r){if(n=h(n),"href"===t||"src"===t){if("#"===(n=k.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(N.lastIndex=0,N.test(n))return""}else if("style"===t){if(A.lastIndex=0,A.test(n))return"";if(C.lastIndex=0,C.test(n)&&(N.lastIndex=0,N.test(n)))return"";!1!==r&&(n=(r=r||T).process(n))}return n=g(n)}function u(e){return e.replace(S,"&quot;")}function d(e){return e.replace(L,'"')}function f(e){return e.replace(O,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function m(e){return e.replace(j,":").replace(B," ")}function p(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return k.trim(t)}function h(e){return e=p(e=m(e=f(e=d(e))))}function g(e){return e=c(e=u(e))}function y(){return""}function v(e,t){function n(t){return!!r||-1!==k.indexOf(e,t)}"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),o=[],i=!1;return{onIgnoreTag:function(e,r,a){if(n(e)){if(a.isClosing){var s="[/removed]",c=a.position+s.length;return o.push([!1!==i?i:a.position,c]),i=!1,s}return i||(i=a.position),"[removed]"}return t(e,r,a)},remove:function(e){var t="",n=0;return k.forEach(o,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}}function b(e){return e.replace(R,"")}function w(e){var t=e.split("");return(t=t.filter(function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))})).join("")}var _=e("cssfilter").FilterCSS,E=e("cssfilter").getDefaultWhiteList,k=e("./util"),T=new _,x=/</g,I=/>/g,S=/"/g,L=/&quot;/g,O=/&#([a-zA-Z0-9]*);?/gim,j=/&colon;?/gim,B=/&newline;?/gim,N=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,A=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,C=/u\s*r\s*l\s*\(.*/gi,R=/<!--[\s\S]*?-->/g;n.whiteList=r(),n.getDefaultWhiteList=r,n.onTag=o,n.onIgnoreTag=i,n.onTagAttr=a,n.onIgnoreTagAttr=s,n.safeAttrValue=l,n.escapeHtml=c,n.escapeQuote=u,n.unescapeQuote=d,n.escapeHtmlEntities=f,n.escapeDangerHtml5Entities=m,n.clearNonPrintableCharacter=p,n.friendlyAttrValue=h,n.escapeAttrValue=g,n.onIgnoreTagStripAll=y,n.StripTagBody=v,n.stripCommentTag=b,n.stripBlankChar=w,n.cssFilter=T,n.getDefaultCSSWhiteList=E},{"./util":4,cssfilter:8}],2:[function(e,t,n){function r(e,t){return new a(t).process(e)}var o=e("./default"),i=e("./parser"),a=e("./xss");for(var s in(n=t.exports=r).FilterXSS=a,o)n[s]=o[s];for(var s in i)n[s]=i[s];"undefined"!=typeof window&&(window.filterXSS=t.exports)},{"./default":1,"./parser":3,"./xss":5}],3:[function(e,t,n){function r(e){var t=e.indexOf(" ");if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=d.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function o(e){return"</"===e.slice(0,2)}function i(e,t,n){"user strict";var i="",a=0,s=!1,c=!1,l=0,u=e.length,d="",f="";for(l=0;l<u;l++){var m=e.charAt(l);if(!1===s){if("<"===m){s=l;continue}}else if(!1===c){if("<"===m){i+=n(e.slice(a,l)),s=l,a=l;continue}if(">"===m){i+=n(e.slice(a,s)),f=r(d=e.slice(s,l+1)),i+=t(s,i.length,f,d,o(d)),a=l+1,s=!1;continue}if(('"'===m||"'"===m)&&"="===e.charAt(l-1)){c=m;continue}}else if(m===c){c=!1;continue}}return a<e.length&&(i+=n(e.substr(a))),i}function a(e,t){"user strict";function n(e,n){if(!((e=(e=d.trim(e)).replace(f,"").toLowerCase()).length<1)){var r=t(e,n||"");r&&o.push(r)}}for(var r=0,o=[],i=!1,a=e.length,l=0;l<a;l++){var m,p=e.charAt(l);if(!1!==i||"="!==p)if(!1===i||l!==r||'"'!==p&&"'"!==p||"="!==e.charAt(l-1))if(" "!==p);else{if(!1===i){if(-1===(m=s(e,l))){n(d.trim(e.slice(r,l))),i=!1,r=l+1;continue}l=m-1;continue}if(-1===(m=c(e,l-1))){n(i,u(d.trim(e.slice(r,l)))),i=!1,r=l+1;continue}}else{if(-1===(m=e.indexOf(p,l+1)))break;n(i,d.trim(e.slice(r+1,m))),i=!1,r=(l=m)+1}else i=e.slice(r,l),r=l+1}return r<e.length&&(!1===i?n(e.slice(r)):n(i,u(d.trim(e.slice(r))))),d.trim(o.join(" "))}function s(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function l(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function u(e){return l(e)?e.substr(1,e.length-2):e}var d=e("./util"),f=/[^a-zA-Z0-9_:\.\-]/gim;n.parseTag=i,n.parseAttr=a},{"./util":4}],4:[function(e,t){t.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")}}},{}],5:[function(e,t){function n(e){return e===undefined||null===e}function r(e){var t=e.indexOf(" ");if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=d.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=d.trim(e.slice(0,-1))),{html:e,closing:n}}function o(e){var t={};for(var n in e)t[n]=e[n];return t}function i(e){(e=o(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=s.onIgnoreTagStripAll),e.whiteList=e.whiteList||s.whiteList,e.onTag=e.onTag||s.onTag,e.onTagAttr=e.onTagAttr||s.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||s.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||s.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||s.safeAttrValue,e.escapeHtml=e.escapeHtml||s.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new a(e.css))}var a=e("cssfilter").FilterCSS,s=e("./default"),c=e("./parser"),l=c.parseTag,u=c.parseAttr,d=e("./util");i.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this,o=t.options,i=o.whiteList,a=o.onTag,c=o.onIgnoreTag,f=o.onTagAttr,m=o.onIgnoreTagAttr,p=o.safeAttrValue,h=o.escapeHtml,g=t.cssFilter;o.stripBlankChar&&(e=s.stripBlankChar(e)),o.allowCommentTag||(e=s.stripCommentTag(e));var y=!1;if(o.stripIgnoreTagBody){y=s.StripTagBody(o.stripIgnoreTagBody,c);c=y.onIgnoreTag}var v=l(e,function(e,t,o,s,l){var y,v={sourcePosition:e,position:t,isClosing:l,isWhite:o in i};if(!n(y=a(o,s,v)))return y;if(v.isWhite){if(v.isClosing)return"</"+o+">";var b=r(s),w=i[o],_=u(b.html,function(e,t){var r,i=-1!==d.indexOf(w,e);return n(r=f(o,e,t,i))?i?(t=p(o,e,t,g))?e+'="'+t+'"':e:n(r=m(o,e,t,i))?void 0:r:r});s="<"+o;return _&&(s+=" "+_),b.closing&&(s+=" /"),s+=">"}return n(y=c(o,s,v))?h(s):y},h);return y&&(v=y.remove(v)),v},t.exports=i},{"./default":1,"./parser":3,"./util":4,cssfilter:8}],6:[function(e,t){function n(e){return e===undefined||null===e}function r(e){var t={};for(var n in e)t[n]=e[n];return t}function o(e){(e=r(e||{})).whiteList=e.whiteList||i.whiteList,e.onAttr=e.onAttr||i.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||i.onIgnoreAttr,this.options=e}var i=e("./default"),a=e("./parser");e("./util");o.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,o=t.onAttr,i=t.onIgnoreAttr;return a(e,function(e,t,a,s,c){var l=r[a],u=!1;!0===l?u=l:"function"==typeof l?u=l(s):l instanceof RegExp&&(u=l.test(s)),!0!==u&&(u=!1);var d,f={position:t,sourcePosition:e,source:c,isWhite:u};return u?n(d=o(a,s,f))?a+":"+s:d:n(d=i(a,s,f))?void 0:d})},t.exports=o},{"./default":7,"./parser":9,"./util":10}],7:[function(e,t,n){function r(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}function o(){}function i(){}n.whiteList=r(),n.getDefaultWhiteList=r,n.onAttr=o,n.onIgnoreAttr=i},{}],8:[function(e,t,n){function r(e,t){return new i(t).process(e)}var o=e("./default"),i=e("./css");for(var a in(n=t.exports=r).FilterCSS=i,o)n[a]=o[a];"undefined"!=typeof window&&(window.filterCSS=t.exports)},{"./css":6,"./default":7}],9:[function(e,t){function n(e,t){function n(){if(!i){var n=r.trim(e.slice(a,s)),o=n.indexOf(":");if(-1!==o){var l=r.trim(n.slice(0,o)),u=r.trim(n.slice(o+1));if(l){var d=t(a,c.length,l,u,n);d&&(c+=d+"; ")}}}a=s+1}";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");for(var o=e.length,i=!1,a=0,s=0,c="";s<o;s++){var l=e[s];if("/"===l&&"*"===e[s+1]){var u=e.indexOf("*/",s+2);if(-1===u)break;a=(s=u+1)+1,i=!1}else"("===l?i=!0:")"===l?i=!1:";"===l?i||n():"\n"===l&&n()}return r.trim(c)}var r=e("./util");t.exports=n},{"./util":10}],10:[function(e,t){t.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},{}]},{},[2]),
/*! airbrake-js v1.5.0 */
function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(function(){try{return require("os")}catch(e){}}(),require("isomorphic-fetch")):"function"==typeof define&&define.amd?define(["os","isomorphic-fetch"],t):"object"==typeof exports?exports.Client=t(function(){try{return require("os")}catch(e){}}(),require("isomorphic-fetch")):(e.airbrakeJs=e.airbrakeJs||{},e.airbrakeJs.Client=t(e[undefined],e.fetch))}("undefined"!=typeof self?self:this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}({"./node_modules/error-stack-parser/error-stack-parser.js":
/*!***************************************************************!*\
  !*** ./node_modules/error-stack-parser/error-stack-parser.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t,n){var r=!1;!function(t,o){"use strict";"function"==typeof r&&r.amd?r("error-stack-parser",["stackframe"],o):e.exports=o(n(/*! stackframe */"./node_modules/stackframe/stackframe.js"))}(0,function(e){"use strict";var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||undefined,t[3]||undefined]},parseV8OrIE:function(t){return t.stack.split("\n").filter(function(e){return!!e.match(n)},this).map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),o=n.join(" ")||undefined,i=["eval","<anonymous>"].indexOf(r[0])>-1?undefined:r[0];return new e({functionName:o,fileName:i,lineNumber:r[1],columnNumber:r[2],source:t})},this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter(function(e){return!e.match(r)},this).map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),o=r&&r[1]?r[1]:undefined,i=this.extractLocation(t.replace(n,""));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({functionName:s[3]||undefined,fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera11:function(n){return n.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||undefined;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=n===undefined||"[arguments not available]"===n?undefined:n.split(",");return new e({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)}}})},"./node_modules/promise-polyfill/src/finally.js":
/*!******************************************************!*\
  !*** ./node_modules/promise-polyfill/src/finally.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}n.r(t),t["default"]=r},"./node_modules/promise-polyfill/src/index.js":
/*!****************************************************!*\
  !*** ./node_modules/promise-polyfill/src/index.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),function(e){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],d(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void c(t.promise,o)}s(t.promise,r)}else(1===e._state?s:c)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void d(o(n,t),e)}e._state=1,e._value=t,l(e)}catch(r){c(e,r)}}function c(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,c(t,e))})}catch(r){if(n)return;n=!0,c(t,r)}}var f=n(/*! ./finally */"./node_modules/promise-polyfill/src/finally.js"),m=setTimeout;i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new u(e,t,n)),n},i.prototype["finally"]=f["default"],i.all=function(e){return new i(function(t,n){function r(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){r(e,t)},n)}o[e]=a,0==--i&&t(o)}catch(c){n(c)}}if(!e||"undefined"==typeof e.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);for(var i=o.length,a=0;a<o.length;a++)r(a,o[a])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){m(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t["default"]=i}.call(this,n(/*! ./../../timers-browserify/main.js */"./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/promise-polyfill/src/polyfill.js":
/*!*******************************************************!*\
  !*** ./node_modules/promise-polyfill/src/polyfill.js ***!
  \*******************************************************/
/*! no exports provided */function(e,t,n){"use strict";n.r(t),function(e){var t=n(/*! ./index */"./node_modules/promise-polyfill/src/index.js"),r=n(/*! ./finally */"./node_modules/promise-polyfill/src/finally.js"),o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"Promise"in o?o.Promise.prototype["finally"]||(o.Promise.prototype["finally"]=r["default"]):o.Promise=t["default"]}.call(this,n(/*! ./../../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){(function(e){!function(e,t){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return p[m]=r,f(m),m++}function r(e){delete p[e]}function o(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}function i(e){if(h)setTimeout(i,0,e);else{var t=p[e];if(t){h=!0;try{o(t)}finally{r(e),h=!1}}}}function a(){f=function(e){process.nextTick(function(){i(e)})}}function s(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function c(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),f=function(n){e.postMessage(t+n,"*")}}function l(){var e=new MessageChannel;e.port1.onmessage=function(e){i(e.data)},f=function(t){e.port2.postMessage(t)}}function u(){var e=g.documentElement;f=function(t){var n=g.createElement("script");n.onreadystatechange=function(){i(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function d(){f=function(e){setTimeout(i,0,e)}}if(!e.setImmediate){var f,m=1,p={},h=!1,g=e.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,"[object process]"==={}.toString.call(e.process)?a():s()?c():e.MessageChannel?l():g&&"onreadystatechange"in g.createElement("script")?u():d(),y.setImmediate=n,y.clearImmediate=r}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(/*! ./../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/stackframe/stackframe.js":
/*!***********************************************!*\
  !*** ./node_modules/stackframe/stackframe.js ***!
  \***********************************************/
/*! no static exports found */function(e){var t=!1;!function(n,r){"use strict";"function"==typeof t&&t.amd?t("stackframe",[],r):e.exports=r()}(0,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}function r(e){if(e instanceof Object)for(var n=0;n<c.length;n++)e.hasOwnProperty(c[n])&&e[c[n]]!==undefined&&this["set"+t(c[n])](e[c[n]])}var o=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],a=["fileName","functionName","source"],s=["args"],c=o.concat(i,a,s);r.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof r)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new r(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+("("+(this.getArgs()||[]).join(",")+")")+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var l=0;l<o.length;l++)r.prototype["get"+t(o[l])]=n(o[l]),r.prototype["set"+t(o[l])]=function(e){return function(t){this[e]=Boolean(t)}}(o[l]);for(var u=0;u<i.length;u++)r.prototype["get"+t(i[u])]=n(i[u]),r.prototype["set"+t(i[u])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(i[u]);for(var d=0;d<a.length;d++)r.prototype["get"+t(a[d])]=n(a[d]),r.prototype["set"+t(a[d])]=function(e){return function(t){this[e]=String(t)}}(a[d]);return r})},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
  !*** ./node_modules/timers-browserify/main.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(/*! setimmediate */"./node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(/*! ./../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(t=window)}e.exports=t},"./src/client.ts":
/*!***********************!*\
  !*** ./src/client.ts ***!
  \***********************/
/*! no static exports found */function(e,t,n){"use strict";function r(e){var t=e.environment;return t&&t.startsWith&&t.startsWith("dev")}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};n(/*! promise-polyfill/src/polyfill */"./node_modules/promise-polyfill/src/polyfill.js");var i=o(n(/*! ./jsonify_notice */"./src/jsonify_notice.ts")),a=o(n(/*! ./processor/stacktracejs */"./src/processor/stacktracejs.ts")),s=o(n(/*! ./filter/ignore */"./src/filter/ignore.ts")),c=o(n(/*! ./filter/debounce */"./src/filter/debounce.ts")),l=o(n(/*! ./filter/uncaught_message */"./src/filter/uncaught_message.ts")),u=o(n(/*! ./filter/angular_message */"./src/filter/angular_message.ts")),d=o(n(/*! ./filter/window */"./src/filter/window.ts")),f=o(n(/*! ./filter/node */"./src/filter/node.ts")),m=n(/*! ./reporter/reporter */"./src/reporter/reporter.ts"),p=o(n(/*! ./reporter/fetch */"./src/reporter/fetch.ts")),h=o(n(/*! ./reporter/request */"./src/reporter/request.ts")),g=o(n(/*! ./reporter/xhr */"./src/reporter/xhr.ts")),y=o(n(/*! ./reporter/jsonp */"./src/reporter/jsonp.ts")),v=o(n(/*! ./historian */"./src/historian.ts")),b=function(){function e(e){void 0===e&&(e={});var t=this;if(this.filters=[],this.offline=!1,this.todo=[],this.onClose=[],!e.projectId||!e.projectKey)throw new Error("airbrake: projectId and projectKey are required");this.opts=e,this.opts.host=this.opts.host||"https://api.airbrake.io",this.opts.timeout=this.opts.timeout||1e4,this.opts.keysBlacklist=this.opts.keysBlacklist||[/password/,/secret/],this.processor=e.processor||a["default"],this.setReporter(e.reporter||m.defaultReporter(e)),this.addFilter(s["default"]),this.addFilter(c["default"]()),this.addFilter(l["default"]),this.addFilter(u["default"]),e.environment&&this.addFilter(function(t){return t.context.environment=e.environment,t}),"object"==typeof window?(this.addFilter(d["default"]),window.addEventListener&&(this.onOnline=this.onOnline.bind(this),window.addEventListener("online",this.onOnline),this.onOffline=this.onOffline.bind(this),window.addEventListener("offline",this.onOffline),this.onUnhandledrejection=this.onUnhandledrejection.bind(this),window.addEventListener("unhandledrejection",this.onUnhandledrejection),this.onClose.push(function(){window.removeEventListener("online",t.onOnline),window.removeEventListener("offline",t.onOffline),window.removeEventListener("unhandledrejection",t.onUnhandledrejection)}))):this.addFilter(f["default"]),this.historian=v["default"].instance(),this.historian.registerNotifier(this),(e.unwrapConsole||r(e))&&this.historian.unwrapConsole()}return e.prototype.close=function(){for(var e=0,t=this.onClose;e<t.length;e++){(0,t[e])()}this.historian.unregisterNotifier(this)},e.prototype.setReporter=function(e){switch(e){case"fetch":case"node":this.reporter=p["default"];break;case"request":this.reporter=h["default"];break;case"xhr":this.reporter=g["default"];break;case"jsonp":this.reporter=y["default"];break;default:this.reporter=e}},e.prototype.addFilter=function(e){this.filters.push(e)},e.prototype.notify=function(e){var t=this,n={id:"",errors:[],context:Object.assign({severity:"error"},e.context),params:e.params||{},environment:e.environment||{},session:e.session||{}};if("object"==typeof e&&e.error!==undefined||(e={error:e}),!e.error)return n.error=new Error("airbrake: got err="+JSON.stringify(e.error)+", wanted an Error"),Promise.resolve(n);if(this.opts.ignoreWindowError&&e.context&&e.context.windowError)return n.error=new Error("airbrake: window error is ignored"),Promise.resolve(n);if(this.offline)return new Promise(function(r,o){for(t.todo.push({err:e,resolve:r,reject:o});t.todo.length>100;){var i=t.todo.shift();if(i===undefined)break;n.error=new Error("airbrake: offline queue is too large"),i.resolve(n)}});var r=this.historian.getHistory();r.length>0&&(n.context.history=r);var o=this.processor(e.error);n.errors.push(o);for(var a=0,s=this.filters;a<s.length;a++){var c=(0,s[a])(n);if(null===c)return n.error=new Error("airbrake: error is filtered"),Promise.resolve(n);n=c}n.context||(n.context={}),n.context.language="JavaScript",n.context.notifier={name:"airbrake-js",version:"1.5.0",url:"https://github.com/airbrake/airbrake-js"};var l=i["default"](n,{keysBlacklist:this.opts.keysBlacklist});return this.reporter(n,l,this.opts)},e.prototype.wrap=function(e,t){if(void 0===t&&(t=[]),e._airbrake)return e;var n=this,r=function(){var t=Array.prototype.slice.call(arguments),r=n.wrapArguments(t);try{return e.apply(this,r)}catch(o){throw n.notify({error:o,params:{arguments:t}}),this.historian.ignoreNextWindowError(),o}};for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);for(var i=0,a=t;i<a.length;i++){o=a[i];e.hasOwnProperty(o)&&(r[o]=e[o])}return r._airbrake=!0,r.inner=e,r},e.prototype.wrapArguments=function(e){for(var t in e){var n=e[t];"function"==typeof n&&(e[t]=this.wrap(n))}return e},e.prototype.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.wrap(e).apply(this,Array.prototype.slice.call(arguments,1))},e.prototype.onerror=function(){this.historian.onerror.apply(this.historian,arguments)},e.prototype.onOnline=function(){this.offline=!1;for(var e=function(e){t.notify(e.err).then(function(t){e.resolve(t)})},t=this,n=0,r=this.todo;n<r.length;n++){e(r[n])}this.todo=[]},e.prototype.onOffline=function(){this.offline=!0},e.prototype.onUnhandledrejection=function(e){var t=e.reason||e.detail.reason,n=t.message||String(t);n.indexOf&&0===n.indexOf("airbrake: ")||this.notify(t)},e}();e.exports=b},"./src/filter/angular_message.ts":
/*!***************************************!*\
  !*** ./src/filter/angular_message.ts ***!
  \***************************************/
/*! no static exports found */function(e,t){"use strict";function n(e){var t=e.errors[0];if(""!==t.type&&"Error"!==t.type)return e;var n=t.message.match(r);return null!==n&&(t.type=n[1],t.message=n[2]),e}Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp(["^","\\[(\\$.+)\\]","\\s","([\\s\\S]+)","$"].join(""));t["default"]=n},"./src/filter/debounce.ts":
/*!********************************!*\
  !*** ./src/filter/debounce.ts ***!
  \********************************/
/*! no static exports found */function(e,t){"use strict";function n(){var e,t;return function(n){var r=JSON.stringify(n.errors);return r===e?null:(t&&clearTimeout(t),e=r,t=setTimeout(function(){e=""},1e3),n)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},"./src/filter/ignore.ts":
/*!******************************!*\
  !*** ./src/filter/ignore.ts ***!
  \******************************/
/*! no static exports found */function(e,t){"use strict";function n(e){var t=e.errors[0];if(""===t.type&&-1!==r.indexOf(t.message))return null;if(t.backtrace&&t.backtrace.length>0&&"<anonymous>"===t.backtrace[0].file)return null;return e}Object.defineProperty(t,"__esModule",{value:!0});var r=["Script error","Script error.","InvalidAccessError"];t["default"]=n},"./src/filter/node.ts":
/*!****************************!*\
  !*** ./src/filter/node.ts ***!
  \****************************/
/*! no static exports found */function(e,t,n){"use strict";function r(e){var t;try{t=n(/*! os */"os")}catch(o){}if(t&&(e.context.os=t.type()+"/"+t.release(),e.context.architecture=t.arch(),e.context.hostname=t.hostname(),e.params.os={homedir:t.homedir(),uptime:t.uptime(),freemem:t.freemem(),totalmem:t.totalmem(),loadavg:t.loadavg()}),process)for(var r in e.context.platform=process.platform,e.context.rootDirectory||(e.context.rootDirectory=process.cwd()),process.env.NODE_ENV&&(e.context.environment=process.env.NODE_ENV),e.params.process={pid:process.pid,cwd:process.cwd(),execPath:process.execPath,argv:process.argv},["uptime","cpuUsage","memoryUsage"])process[r]&&(e.params.process[r]=process[r]());return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},"./src/filter/uncaught_message.ts":
/*!****************************************!*\
  !*** ./src/filter/uncaught_message.ts ***!
  \****************************************/
/*! no static exports found */function(e,t){"use strict";function n(e){var t=e.errors[0];if(""!==t.type&&"Error"!==t.type)return e;var n=t.message.match(r);return null!==n&&(t.type=n[1],t.message=n[2]),e}Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp(["^","Uncaught\\s","(.+?)",":\\s","(.+)","$"].join(""));t["default"]=n},"./src/filter/window.ts":
/*!******************************!*\
  !*** ./src/filter/window.ts ***!
  \******************************/
/*! no static exports found */function(e,t){"use strict";function n(e){return window.navigator&&window.navigator.userAgent&&(e.context.userAgent=window.navigator.userAgent),window.location&&(e.context.url=String(window.location),e.context.rootDirectory=window.location.protocol+"//"+window.location.host),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},"./src/historian.ts":
/*!**************************!*\
  !*** ./src/historian.ts ***!
  \**************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./instrumentation/dom */"./src/instrumentation/dom.ts"),o=["debug","log","info","warn","error"],i=function(){function e(){var e=this;if(this.historyMaxLen=20,this.notifiers=[],this.errors=[],this.ignoreWindowError=0,this.history=[],this.ignoreNextXHR=0,"object"==typeof console&&console.error&&(this.consoleError=console.error),"object"==typeof window){var t=this,n=window.onerror;window.onerror=function(){n&&n.apply(this,arguments),t.onerror.apply(t,arguments)},this.domEvents(),"function"==typeof fetch&&this.fetch(),"object"==typeof history&&this.location()}"object"==typeof process&&"function"==typeof process.on&&(process.on("uncaughtException",function(t){e.notify(t).then(function(){1===process.listeners("uncaughtException").length&&(e.consoleError&&e.consoleError("uncaught exception",t),process.exit(1))})}),process.on("unhandledRejection",function(t){var n=t.message||String(t);n.indexOf&&0===n.indexOf("airbrake: ")||e.notify(t).then(function(){1===process.listeners("unhandledRejection").length&&(e.consoleError&&e.consoleError("unhandled rejection",t),process.exit(1))})})),"object"==typeof console&&this.console(),"undefined"!=typeof XMLHttpRequest&&this.xhr()}return e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.registerNotifier=function(e){this.notifiers.push(e);for(var t=0,n=this.errors;t<n.length;t++){var r=n[t];this.notifyNotifiers(r)}this.errors=[]},e.prototype.unregisterNotifier=function(e){var t=this.notifiers.indexOf(e);-1!==t&&this.notifiers.splice(t,1)},e.prototype.notify=function(e){return this.notifiers.length>0?this.notifyNotifiers(e):(this.errors.push(e),this.errors.length>this.historyMaxLen&&(this.errors=this.errors.slice(-this.historyMaxLen)),Promise.resolve({}))},e.prototype.notifyNotifiers=function(e){for(var t=[],n=0,r=this.notifiers;n<r.length;n++){var o=r[n];t.push(o.notify(e))}return Promise.all(t).then(function(e){return e[0]})},e.prototype.onerror=function(e,t,n,r,o){this.ignoreWindowError>0||(o?this.notify({error:o,context:{windowError:!0}}):t&&n&&this.notify({error:{message:e,fileName:t,lineNumber:n,columnNumber:r,noStack:!0},context:{windowError:!0}}))},e.prototype.ignoreNextWindowError=function(){var e=this;this.ignoreWindowError++,setTimeout(function(){return e.ignoreWindowError--})},e.prototype.getHistory=function(){return this.history},e.prototype.pushHistory=function(e){this.isDupState(e)?this.lastState.num?this.lastState.num++:this.lastState.num=2:(e.date||(e.date=new Date),this.history.push(e),this.lastState=e,this.history.length>this.historyMaxLen&&(this.history=this.history.slice(-this.historyMaxLen)))},e.prototype.isDupState=function(e){if(!this.lastState)return!1;for(var t in e)if("date"!==t&&e[t]!==this.lastState[t])return!1;return!0},e.prototype.domEvents=function(){var e=r.makeEventHandler(this);window.addEventListener&&(window.addEventListener("load",e),window.addEventListener("error",function(t){"error"in t||e(t)},!0)),"object"==typeof document&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",e),document.addEventListener("click",e),document.addEventListener("keypress",e))},e.prototype.console=function(){for(var e=this,t=function(t){if(!(t in console))return"continue";var n=console[t],r=function(){n.apply(console,arguments),e.pushHistory({type:"log",severity:t,arguments:Array.prototype.slice.call(arguments)})};r.inner=n,console[t]=r},n=0,r=o;n<r.length;n++){t(r[n])}},e.prototype.unwrapConsole=function(){for(var e=0,t=o;e<t.length;e++){var n=t[e];n in console&&console[n].inner&&(console[n]=console[n].inner)}},e.prototype.fetch=function(){var e=this,t=window.fetch;window.fetch=function(n,r){var o={type:"xhr",date:new Date};return o.url="string"==typeof n?n:n.url,r&&r.method?o.method=r.method:o.method="GET",e.ignoreNextXHR++,setTimeout(function(){return e.ignoreNextXHR--}),t.apply(this,arguments).then(function(t){return o.statusCode=t.status,o.duration=(new Date).getTime()-o.date.getTime(),e.pushHistory(o),t})["catch"](function(t){throw o.error=t,o.duration=(new Date).getTime()-o.date.getTime(),e.pushHistory(o),t})}},e.prototype.xhr=function(){var e=this,t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(n,r){0===e.ignoreNextXHR&&(this.__state={type:"xhr",method:n,url:r}),t.apply(this,arguments)};var n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){var t=this.onreadystatechange;return this.onreadystatechange=function(){if(4===this.readyState&&this.__state&&e.recordReq(this),t)return t.apply(this,arguments)},this.__state&&(this.__state.date=new Date),n.apply(this,arguments)}},e.prototype.recordReq=function(e){var t=e.__state;t.statusCode=e.status,t.duration=(new Date).getTime()-t.date.getTime(),this.pushHistory(t)},e.prototype.location=function(){this.lastLocation=document.location.pathname;var e=this,t=window.onpopstate;window.onpopstate=function(){if(e.recordLocation(document.location.pathname),t)return t.apply(this,arguments)};var n=history.pushState;history.pushState=function(t,r,o){o&&e.recordLocation(o.toString()),n.apply(this,arguments)}},e.prototype.recordLocation=function(e){var t=e.indexOf("://");t>=0?e=(t=(e=e.slice(t+3)).indexOf("/"))>=0?e.slice(t):"/":"/"!==e.charAt(0)&&(e="/"+e),this.pushHistory({type:"location",from:this.lastLocation,to:e}),this.lastLocation=e},e}();t["default"]=i},"./src/instrumentation/dom.ts":
/*!************************************!*\
  !*** ./src/instrumentation/dom.ts ***!
  \************************************/
/*! no static exports found */function(e,t){"use strict";function n(e){if(!e)return"";var t=[];if(e.tagName&&t.push(e.tagName.toLowerCase()),e.id&&(t.push("#"),t.push(e.id)),e.className&&(t.push("."),t.push(e.className.split(" ").join("."))),e.getAttribute)for(var n=0,r=i;n<r.length;n++){var o=r[n],a=e.getAttribute(o);a&&t.push("["+o+'="'+a+'"]')}return t.join("")}function r(e){for(var t=10,r=[],o=e;o;){var i=n(o);if(""!==i&&(r.push(i),r.length>t))break;o=o.parentNode}return 0===r.length?String(e):r.reverse().join(" > ")}function o(e){return function(t){var n;try{n=t.target}catch(i){return}if(n){var o={type:t.type};try{o.target=r(n)}catch(a){o.target="<"+a.toString()+">"}e.pushHistory(o)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=["type","name","src"];t.makeEventHandler=o},"./src/internal/compat.ts":
/*!********************************!*\
  !*** ./src/internal/compat.ts ***!
  \********************************/
/*! no static exports found */function(){Object.assign||(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})},o=0,i=t;o<i.length;o++){r(i[o])}return e})},"./src/jsonify_notice.ts":
/*!*******************************!*\
  !*** ./src/jsonify_notice.ts ***!
  \*******************************/
/*! no static exports found */function(e,t){"use strict";function n(e,t){var n=void 0===t?{}:t,r=n.maxLength,i=void 0===r?64e3:r,a=n.keysBlacklist,s=void 0===a?[]:a;if(e.errors)for(var c in e.errors){var l=new u({keysBlacklist:s});e.errors[c]=l.truncate(e.errors[c])}for(var d="",f=["context","params","environment","session"],m=0;m<8;m++){for(var p={level:m,keysBlacklist:s},h=0,g=f;h<g.length;h++){(_=e[w=g[h]])&&(e[w]=o(_,p))}if((d=JSON.stringify(e)).length<i)return d}var y={json:d.slice(0,Math.floor(i/2))+"..."};f.push("errors");for(var v=0,b=f;v<b.length;v++){var w,_;(_=e[w=b[v]])&&(d=JSON.stringify(_),y[w]=d.length)}var E=new Error("airbrake: notice exceeds max length and can't be truncated");throw E.params=y,E}function r(e,t){return e>>t||1}function o(e,t){return void 0===t&&(t={}),new u(t).truncate(e)}function i(e,t){try{return e[t]}catch(n){return}}function a(e){return Object.prototype.toString.apply(e).slice("[object ".length,-1)}function s(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o===e)return!0;if(o instanceof RegExp&&e.match(o))return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0});var c="[Filtered]",l=128;t["default"]=n;var u=function(){function e(e){this.maxStringLength=1024,this.maxObjectLength=l,this.maxArrayLength=l,this.maxDepth=8,this.keys=[],this.keysBlacklist=[],this.seen=[];var t=e.level||0;this.keysBlacklist=e.keysBlacklist||[],this.maxStringLength=r(this.maxStringLength,t),this.maxObjectLength=r(this.maxObjectLength,t),this.maxArrayLength=r(this.maxArrayLength,t),this.maxDepth=r(this.maxDepth,t)}return e.prototype.truncate=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=0),null===e||e===undefined)return e;switch(typeof e){case"boolean":case"number":case"function":return e;case"string":return this.truncateString(e);case"object":break;default:return this.truncateString(String(e))}if(e instanceof String)return this.truncateString(e.toString());if(e instanceof Boolean||e instanceof Number||e instanceof Date||e instanceof RegExp)return e;if(e instanceof Error)return this.truncateString(e.toString());if(this.seen.indexOf(e)>=0)return"[Circular "+this.getPath(e)+"]";var r=a(e);if(++n>this.maxDepth)return"[Truncated "+r+"]";switch(this.keys.push(t),this.seen.push(e),r){case"Array":return this.truncateArray(e,n);case"Object":return this.truncateObject(e,n);default:var o=this.maxDepth;this.maxDepth=0;var i=this.truncateObject(e,n);return i.__type=r,this.maxDepth=o,i}},e.prototype.getPath=function(e){for(var t=this.seen.indexOf(e),n=[this.keys[t]],r=t;r>=0;r--){var o=this.seen[r];o&&i(o,n[0])===e&&(e=o,n.unshift(this.keys[r]))}return"~"+n.join(".")},e.prototype.truncateString=function(e){return e.length>this.maxStringLength?e.slice(0,this.maxStringLength)+"...":e},e.prototype.truncateArray=function(e,t){void 0===t&&(t=0);var n=0,r=[];for(var o in e){var i=e[o];if(r.push(this.truncate(i,o,t)),++n>=this.maxArrayLength)break}return r},e.prototype.truncateObject=function(e,t){void 0===t&&(t=0);var n=0,r={};for(var o in e)if(s(o,this.keysBlacklist))r[o]=c;else{var a=i(e,o);if(a!==undefined&&"function"!=typeof a&&(r[o]=this.truncate(a,o,t),++n>=this.maxObjectLength))break}return r},e}();t.truncate=o},"./src/processor/stacktracejs.ts":
/*!***************************************!*\
  !*** ./src/processor/stacktracejs.ts ***!
  \***************************************/
/*! no static exports found */function(e,t,n){"use strict";function r(e){try{return i.parse(e)}catch(t){a&&e.stack&&console.warn("ErrorStackParser:",t.toString(),e.stack)}return e.fileName?[e]:[]}function o(e){var t=[];if(!e.noStack){var n=r(e);if(0===n.length)try{throw new Error("fake")}catch(s){(n=r(s)).shift(),n.shift()}for(var o=0,i=n;o<i.length;o++){var a=i[o];t.push({"function":a.functionName||"",file:a.fileName||"",line:a.lineNumber||0,column:a.columnNumber||0})}}return{type:e.name?e.name:"",message:e.message?String(e.message):String(e),backtrace:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! error-stack-parser */"./node_modules/error-stack-parser/error-stack-parser.js"),a="object"==typeof console&&console.warn;t["default"]=o},"./src/reporter/fetch.ts":
/*!*******************************!*\
  !*** ./src/reporter/fetch.ts ***!
  \*******************************/
/*! no static exports found */function(e,t,n){"use strict";function r(e,t,n){if(Date.now()/1e3<i)return e.error=o.errors.ipRateLimited,Promise.resolve(e);var r=n.host+"/api/v3/projects/"+n.projectId+"/notices?key="+n.projectKey,a={method:"POST",body:t};return new Promise(function(t){fetch(r,a).then(function(n){if(401===n.status)return e.error=o.errors.unauthorized,void t(e);if(429!==n.status)if(n.status>=200&&n.status<500){var r=void 0;try{r=n.json()}catch(c){return e.error=c,void t(e)}r.then(function(n){return n.id?(e.id=n.id,void t(e)):n.message?(e.error=new Error(n.message),void t(e)):void 0})}else n.text().then(function(r){e.error=new Error("airbrake: fetch: unexpected response: code="+n.status+" body='"+r+"'"),t(e)});else{e.error=o.errors.ipRateLimited,t(e);var a=n.headers.get("X-RateLimit-Delay");if(!a)return;var s=parseInt(a,10);s>0&&(i=Date.now()/1e3+s)}})["catch"](function(n){e.error=n,t(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),n(/*! isomorphic-fetch */"isomorphic-fetch");var o=n(/*! ./reporter */"./src/reporter/reporter.ts"),i=0;t["default"]=r},"./src/reporter/jsonp.ts":
/*!*******************************!*\
  !*** ./src/reporter/jsonp.ts ***!
  \*******************************/
/*! no static exports found */function(e,t){"use strict";function n(e,t,n){return new Promise(function(o){var i="airbrakeCb"+String(++r);window[i]=function(t){try{delete window[i]}catch(n){window[i]=undefined}return t.id?(e.id=t.id,void o(e)):t.message?(e.error=new Error(t.message),void o(e)):(e.error=new Error(t),void o(e))},t=encodeURIComponent(t);var a=n.host+"/api/v3/projects/"+n.projectId+"/create-notice?key="+n.projectKey+"&callback="+i+"&body="+t,s=window.document,c=s.getElementsByTagName("head")[0],l=s.createElement("script");l.src=a,l.onload=function(){return c.removeChild(l)},l.onerror=function(){c.removeChild(l),e.error=new Error("airbrake: JSONP script error"),o(e)},c.appendChild(l)})}Object.defineProperty(t,"__esModule",{value:!0});var r=0;t["default"]=n},"./src/reporter/reporter.ts":
/*!**********************************!*\
  !*** ./src/reporter/reporter.ts ***!
  \**********************************/
/*! no static exports found */function(e,t){"use strict";function n(e){return e.request?"request":"function"==typeof fetch?"fetch":"function"==typeof XMLHttpRequest?"xhr":"object"==typeof window?"jsonp":"fetch"}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultReporter=n,t.errors={unauthorized:new Error("airbrake: unauthorized: project id or key are wrong"),ipRateLimited:new Error("airbrake: IP is rate limited")}},"./src/reporter/request.ts":
/*!*********************************!*\
  !*** ./src/reporter/request.ts ***!
  \*********************************/
/*! no static exports found */function(e,t,n){"use strict";function r(e,t,n){if(Date.now()/1e3<i)return e.error=o.errors.ipRateLimited,Promise.resolve(e);var r=n.host+"/api/v3/projects/"+n.projectId+"/notices?key="+n.projectKey;return new Promise(function(a){n.request({url:r,method:"POST",body:t,headers:{"content-type":"application/json"},timeout:n.timeout},function(t,n,r){if(t)return e.error=t,void a(e);if(!n.statusCode)return e.error=new Error("airbrake: node: statusCode is null or undefined"),void a(e);if(401===n.statusCode)return e.error=o.errors.unauthorized,void a(e);if(429!==n.statusCode){if(n.statusCode>=200&&n.statusCode<500){var s=void 0;try{s=JSON.parse(r)}catch(d){return e.error=d,void a(e)}if(s.id)return e.id=s.id,void a(e);if(s.message)return e.error=new Error(s.message),void a(e)}r=r.trim(),e.error=new Error("airbrake: node: unexpected response: code="+n.statusCode+" body='"+r+"'"),a(e)}else{e.error=o.errors.ipRateLimited,a(e);var c=n.headers["x-ratelimit-delay"];if(!c)return;var l=void 0;if("string"==typeof c)l=c;else{if(!(c instanceof Array))return;l=c[0]}var u=parseInt(l,10);u>0&&(i=Date.now()/1e3+u)}})})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(/*! ./reporter */"./src/reporter/reporter.ts"),i=0;t["default"]=r},"./src/reporter/xhr.ts":
/*!*****************************!*\
  !*** ./src/reporter/xhr.ts ***!
  \*****************************/
/*! no static exports found */function(e,t,n){"use strict";function r(e,t,n){if(Date.now()/1e3<i)return e.error=o.errors.ipRateLimited,Promise.resolve(e);var r=n.host+"/api/v3/projects/"+n.projectId+"/notices?key="+n.projectKey;return new Promise(function(a){var s=new XMLHttpRequest;s.open("POST",r,!0),s.timeout=n.timeout,s.onreadystatechange=function(){if(4===s.readyState){if(401===s.status)return e.error=o.errors.unauthorized,void a(e);if(429!==s.status){if(s.status>=200&&s.status<500){var t=void 0;try{t=JSON.parse(s.responseText)}catch(l){return e.error=l,void a(e)}if(t.id)return e.id=t.id,void a(e);if(t.message)return e.error=new Error(t.message),void a(e)}var n=s.responseText.trim();e.error=new Error("airbrake: xhr: unexpected response: code="+s.status+" body='"+n+"'"),a(e)}else{e.error=o.errors.ipRateLimited,a(e);var r=s.getResponseHeader("X-RateLimit-Delay");if(!r)return;var c=parseInt(r,10);c>0&&(i=Date.now()/1e3+c)}}},s.send(t)})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(/*! ./reporter */"./src/reporter/reporter.ts"),i=0;t["default"]=r},0:
/*!******************************************************!*\
  !*** multi ./src/internal/compat.ts ./src/client.ts ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){n(/*! ./src/internal/compat.ts */"./src/internal/compat.ts"),e.exports=n(/*! ./src/client.ts */"./src/client.ts")},"isomorphic-fetch":
/*!***********************************************************************************************************************!*\
  !*** external {"commonjs":"isomorphic-fetch","commonjs2":"isomorphic-fetch","amd":"isomorphic-fetch","root":"fetch"} ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e){e.exports=t},os:
/*!**************************************************************!*\
  !*** external {"commonjs":"os","commonjs2":"os","amd":"os"} ***!
  \**************************************************************/
/*! no static exports found */function(t){if(void 0===e){var n=new Error("Cannot find module 'undefined'");throw n.code="MODULE_NOT_FOUND",n}t.exports=e}})}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceworker.js",{scope:"/"}).then(function(){})["catch"](function(e){console.log("ServiceWorker registration failed: ",e)}),window.addEventListener("beforeinstallprompt",function(e){e.userChoice.then(function(e){ga("send","event","PWA-install",e.outcome)})}),function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self),t.ALGOLIA_MIGRATION_LAYER=e()}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t){function n(e,t){for(var n in t)e.setAttribute(n,t[n])}function r(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function o(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}t.exports=function(e,t,i){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof t&&(i=t,t={}),t=t||{},i=i||function(){},s.type=t.type||"text/javascript",s.charset=t.charset||"utf8",s.async=!("async"in t&&!t.async),s.src=e,t.attrs&&n(s,t.attrs),t.text&&(s.text=""+t.text),("onload"in s?r:o)(s,i),s.onload||r(s,i),a.appendChild(s)}},{}],2:[function(e,t){"use strict";function n(e){for(var t=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+e.replace(".","\\.")+"(?:\\.min)?\\.js$"),n=document.getElementsByTagName("script"),r=!1,o=0,i=n.length;o<i;o++)if(n[o].src&&t.test(n[o].src)){r=!0;break}return r}t.exports=n},{}],3:[function(e,t){"use strict";function n(t){var n=e(1),o="//cdn.jsdelivr.net/algoliasearch/2/"+t+".min.js",i="-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --";window.console&&(window.console.warn?window.console.warn(i):window.console.log&&window.console.log(i));try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true</script>"),!0===window.ALGOLIA_SUPPORTS_DOCWRITE?(document.write('<script src="'+o+'"></script>'),r("document.write")()):n(o,r("DOMElement"))}catch(a){n(o,r("DOMElement"))}}function r(e){return function(){var t="AlgoliaSearch: loaded V2 script using "+e;window.console&&window.console.log&&window.console.log(t)}}t.exports=n},{1:1}],4:[function(e,t){"use strict";function n(){var e="-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --";window.AlgoliaSearch=function(){throw new Error(e)},window.AlgoliaSearchHelper=function(){throw new Error(e)},window.AlgoliaExplainResults=function(){throw new Error(e)}}t.exports=n},{}],5:[function(e){"use strict";function t(t){var n=e(2),r=e(3),o=e(4);n(t)?r(t):o()}t("algoliasearch")},{2:2,3:3,4:4}]},{},[5])(5)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).algoliasearch=e()}}(function(){var e;return function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return o(n||t)},u,u.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(r){function o(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&("%c"===e&&(i=++o))}),e.splice(i,0,r),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function c(){try{return n.storage.debug}catch(e){}if(void 0!==r&&"env"in r)return r.env.DEBUG}function l(){try{return window.localStorage}catch(e){}}(n=t.exports=e(2)).log=a,n.formatArgs=i,n.save=s,n.load=c,n.useColors=o,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(c())}).call(this,e(12))},{12:12,2:2}],2:[function(e,t,n){function r(){return n.colors[u++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(l||t);e.diff=i,e.prev=l,e.curr=t,l=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var c=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;c++;var o=n.formatters[r];if("function"==typeof o){var i=a[c];t=o.call(e,i),a.splice(c,1),c--}return t}),a=n.formatArgs.apply(e,a),(o.log||n.log||console.log.bind(console)).apply(e,a)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&("-"===(e=t[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}(n=t.exports=o.debug=o).coerce=c,n.disable=a,n.enable=i,n.enabled=s,n.humanize=e(9),n.names=[],n.skips=[],n.formatters={};var l,u=0},{9:9}],3:[function(t,n,r){(function(o,i){!function(t,o){"object"==typeof r&&void 0!==n?n.exports=o():"function"==typeof e&&e.amd?e(o):t.ES6Promise=o()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function r(e){W=e}function a(e){G=e}function s(){return function(){return o.nextTick(f)}}function c(){return void 0!==Y?function(){Y(f)}:d()}function l(){var e=0,t=new Z(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;e<V;e+=2){(0,te[e])(te[e+1]),te[e]=void 0,te[e+1]=void 0}V=0}function m(){try{var e=t("vertx");return Y=e.runOnLoop||e.runOnContext,c()}catch(r){return d()}}function p(e,t){var n=arguments,r=this,o=new this.constructor(g);void 0===o[re]&&R(o);var i=r._state;return i?function(){var e=n[i-1];G(function(){return N(i,o,e,r._result)})}():L(r,o,e,t),o}function h(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(g);return T(n,e),n}function g(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(t){return se.error=t,se}}function w(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function _(e,t,n){G(function(e){var r=!1,o=w(n,t,function(n){r||(r=!0,t!==n?T(e,n):I(e,n))},function(t){r||(r=!0,S(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,S(e,o))},e)}function E(e,t){t._state===ie?I(e,t._result):t._state===ae?S(e,t._result):L(t,void 0,function(t){return T(e,t)},function(t){return S(e,t)})}function k(e,t,r){t.constructor===e.constructor&&r===p&&t.constructor.resolve===h?E(e,t):r===se?S(e,se.error):void 0===r?I(e,t):n(r)?_(e,t,r):I(e,t)}function T(t,n){t===n?S(t,y()):e(n)?k(t,n,b(n)):I(t,n)}function x(e){e._onerror&&e._onerror(e._result),O(e)}function I(e,t){e._state===oe&&(e._result=t,e._state=ie,0!==e._subscribers.length&&G(O,e))}function S(e,t){e._state===oe&&(e._state=ae,e._result=t,G(x,e))}function L(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+ie]=n,o[i+ae]=r,0===i&&e._state&&G(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?N(n,r,o,i):o(i);e._subscribers.length=0}}function j(){this.error=null}function B(e,t){try{return e(t)}catch(n){return ce.error=n,ce}}function N(e,t,r,o){var i=n(r),a=void 0,s=void 0,c=void 0,l=void 0;if(i){if((a=B(r,o))===ce?(l=!0,s=a.error,a=null):c=!0,t===a)return void S(t,v())}else a=o,c=!0;t._state!==oe||(i&&c?T(t,a):l?S(t,s):e===ie?I(t,a):e===ae&&S(t,a))}function A(e,t){try{t(function(t){T(e,t)},function(t){S(e,t)})}catch(n){S(e,n)}}function C(){return le++}function R(e){e[re]=le++,e._state=void 0,e._result=void 0,e._subscribers=[]}function P(e,t){this._instanceConstructor=e,this.promise=new e(g),this.promise[re]||R(this.promise),X(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&I(this.promise,this._result))):S(this.promise,M())}function M(){return new Error("Array Methods must be provided an Array")}function D(e){return new P(this,e).promise}function H(e){var t=this;return new t(X(e)?function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function q(e){var t=new this(g);return S(t,e),t}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(e){this[re]=C(),this._result=this._state=void 0,this._subscribers=[],g!==e&&("function"!=typeof e&&F(),this instanceof z?A(this,e):U())}function J(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===r&&!n.cast)return}e.Promise=z}var X=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},V=0,Y=void 0,W=void 0,G=function(e,t){te[V]=e,te[V+1]=t,2===(V+=2)&&(W?W(f):ne())},$="undefined"!=typeof window?window:void 0,K=$||{},Z=K.MutationObserver||K.WebKitMutationObserver,Q="undefined"==typeof self&&void 0!==o&&"[object process]"==={}.toString.call(o),ee="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3),ne=void 0;ne=Q?s():Z?l():ee?u():void 0===$&&"function"==typeof t?m():d();var re=Math.random().toString(36).substring(16),oe=void 0,ie=1,ae=2,se=new j,ce=new j,le=0;return P.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===oe&&n<e;n++)this._eachEntry(t[n],n)},P.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=b(e);if(o===p&&e._state!==oe)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===z){var i=new n(g);k(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},P.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===oe&&(this._remaining--,e===ae?S(r,n):this._result[t]=n),0===this._remaining&&I(r,this._result)},P.prototype._willSettleAt=function(e,t){var n=this;L(e,void 0,function(e){return n._settledAt(ie,t,e)},function(e){return n._settledAt(ae,t,e)})},z.all=D,z.race=H,z.resolve=h,z.reject=q,z._setScheduler=r,z._setAsap=a,z._asap=G,z.prototype={constructor:z,then:p,"catch":function(e){return this.then(null,e)}},z.polyfill=J,z.Promise=z,z})}).call(this,t(12),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{12:12}],4:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(a(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),o=(l=n.slice()).length,c=0;c<o;c++)l[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&((o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],5:[function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(e,t,o){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)t.call(o,e[a],a,e);else for(var s in e)n.call(e,s)&&t.call(o,e[s],s,e)}},{}],6:[function(e,t){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],8:[function(e,t){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],9:[function(e,t){function n(e){if(!((e=String(e)).length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,l,"day")||i(e,c,"hour")||i(e,s,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,l=24*c,u=365.25*l;t.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],10:[function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Array.prototype.slice,i=e(11),a=Object.prototype.propertyIsEnumerable,s=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),m=function(e){if("undefined"==typeof window||!f)return u(e);try{return u(e)}catch(t){return!1}},p=function(e){var t=null!==e&&"object"==typeof e,o="[object Function]"===r.call(e),a=i(e),u=t&&"[object String]"===r.call(e),d=[];if(!t&&!o&&!a)throw new TypeError("Object.keys called on a non-object");var f=c&&o;if(u&&e.length>0&&!n.call(e,0))for(var p=0;p<e.length;++p)d.push(String(p));if(a&&e.length>0)for(var h=0;h<e.length;++h)d.push(String(h));else for(var g in e)f&&"prototype"===g||!n.call(e,g)||d.push(String(g));if(s)for(var y=m(e),v=0;v<l.length;++v)y&&"constructor"===l[v]||!n.call(e,l[v])||d.push(l[v]);return d};p.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(i(t)?o.call(t):t)}}}else Object.keys=p;return Object.keys||p},t.exports=p},{11:11}],11:[function(e,t){"use strict";var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},{}],12:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){h&&m&&(h=!1,m.length?p=m.concat(p):g=-1,p.length&&s())}function s(){if(!h){var e=o(a);h=!0;for(var t=p.length;t;){for(m=p,p=[];++g<t;)m&&m[g].run();g=-1,t=p.length}m=null,h=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,d,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var m,p=[],h=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||h||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],13:[function(e,t){"use strict";function n(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,a,s){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?n(i(e),function(i){var s=encodeURIComponent(r(i))+a;return o(e[i])?n(e[i],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[i]))}).join(t):s?encodeURIComponent(r(s))+a+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],14:[function(e,t){function n(){s.apply(this,arguments)}function r(){var e="Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com";throw new l.AlgoliaSearchError(e)}t.exports=n;var o=e(16),i=e(26),a=e(27),s=e(15),c=e(7),l=e(28);c(n,s),n.prototype.deleteIndex=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},n.prototype.moveIndex=function(e,t,n){var r={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:r,hostType:"write",callback:n})},n.prototype.copyIndex=function(e,t,n){var r={operation:"copy",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:r,hostType:"write",callback:n})},n.prototype.getLogs=function(t,n,r){var o=e(25),i={};return"object"==typeof t?(i=o(t),r=n):0===arguments.length||"function"==typeof t?r=t:1===arguments.length||"function"==typeof n?(r=n,i.offset=t):(i.offset=t,i.length=n),void 0===i.offset&&(i.offset=0),void 0===i.length&&(i.length=10),this._jsonRequest({method:"GET",url:"/1/logs?"+this._getSearchParams(i,""),hostType:"read",callback:r})},n.prototype.listIndexes=function(e,t){var n="";return void 0===e||"function"==typeof e?t=e:n="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+n,hostType:"read",callback:t})},n.prototype.initIndex=function(e){return new o(this,e)},n.prototype.listUserKeys=function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},n.prototype.getUserKeyACL=function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},n.prototype.deleteUserKey=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},n.prototype.addUserKey=function(t,n,r){var o="Usage: client.addUserKey(arrayOfAcls[, params, callback])";if(!e(8)(t))throw new Error(o);1!==arguments.length&&"function"!=typeof n||(r=n,n=null);var i={acl:t};return n&&(i.validity=n.validity,i.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,i.maxHitsPerQuery=n.maxHitsPerQuery,i.indexes=n.indexes,i.description=n.description,n.queryParameters&&(i.queryParameters=this._getSearchParams(n.queryParameters,"")),i.referers=n.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:i,hostType:"write",callback:r})},n.prototype.addUserKeyWithValidity=i(function(e,t,n){return this.addUserKey(e,t,n)},a("client.addUserKeyWithValidity()","client.addUserKey()")),n.prototype.updateUserKey=function(t,n,r,o){var i="Usage: client.updateUserKey(key, arrayOfAcls[, params, callback])";if(!e(8)(n))throw new Error(i);2!==arguments.length&&"function"!=typeof r||(o=r,r=null);var a={acl:n};return r&&(a.validity=r.validity,a.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,a.maxHitsPerQuery=r.maxHitsPerQuery,a.indexes=r.indexes,a.description=r.description,r.queryParameters&&(a.queryParameters=this._getSearchParams(r.queryParameters,"")),a.referers=r.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+t,body:a,hostType:"write",callback:o})},n.prototype.startQueriesBatch=i(function(){this._batch=[]},a("client.startQueriesBatch()","client.search()")),n.prototype.addQueryInBatch=i(function(e,t,n){this._batch.push({indexName:e,query:t,params:n})},a("client.addQueryInBatch()","client.search()")),n.prototype.sendQueriesBatch=i(function(e){return this.search(this._batch,e)},a("client.sendQueriesBatch()","client.search()")),n.prototype.batch=function(t,n){var r="Usage: client.batch(operations[, callback])";if(!e(8)(t))throw new Error(r);return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:t},hostType:"write",callback:n})},n.prototype.destroy=r,n.prototype.enableRateLimitForward=r,n.prototype.disableRateLimitForward=r,n.prototype.useSecuredAPIKey=r,n.prototype.disableSecuredAPIKey=r,n.prototype.generateSecuredApiKey=r},{15:15,16:16,25:25,26:26,27:27,28:28,7:7,8:8}],15:[function(e,t){(function(n){function r(t,n,r){var i=e(1)("algoliasearch"),a=e(25),s=e(8),l=e(30),u="Usage: algoliasearch(applicationID, apiKey, opts)";if(!0!==r._allowEmptyCredentials&&!t)throw new c.AlgoliaSearchError("Please provide an application ID. "+u);if(!0!==r._allowEmptyCredentials&&!n)throw new c.AlgoliaSearchError("Please provide an API key. "+u);this.applicationID=t,this.apiKey=n,this.hosts={read:[],write:[]};var d=(r=r||{}).protocol||"https:";if(this._timeouts=r.timeouts||{connect:1e3,read:2e3,write:3e4},r.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=r.timeout),/:$/.test(d)||(d+=":"),"http:"!==r.protocol&&"https:"!==r.protocol)throw new c.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+r.protocol+"`)");if(this._checkAppIdData(),r.hosts)s(r.hosts)?(this.hosts.read=a(r.hosts),this.hosts.write=a(r.hosts)):(this.hosts.read=a(r.hosts.read),this.hosts.write=a(r.hosts.write));else{var f=l(this._shuffleResult,function(e){return t+"-"+e+".algolianet.com"});this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(f),this.hosts.write=[this.applicationID+".algolia.net"].concat(f)}this.hosts.read=l(this.hosts.read,o(d)),this.hosts.write=l(this.hosts.write,o(d)),this.extraHeaders=[],this.cache=r._cache||{},this._ua=r._ua,this._useCache=!(void 0!==r._useCache&&!r._cache)||r._useCache,this._useFallback=void 0===r.useFallback||r.useFallback,this._setTimeout=r._setTimeout,i("init done, %j",this)}function o(e){return function(t){return e+"//"+t.toLowerCase()}}function i(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=JSON.stringify(e);return Array.prototype.toJSON=t,n}function a(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}function s(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;r="x-algolia-api-key"===n||"x-algolia-application-id"===n?"**hidden for security purposes**":e[n],t[n]=r}return t}t.exports=r;var c=e(28),l=e(29),u=e(18),d=e(34),f=500,m=n.env.RESET_APP_DATA_TIMER&&parseInt(n.env.RESET_APP_DATA_TIMER,10)||12e4;r.prototype.initIndex=function(e){return new u(this,e)},r.prototype.setExtraHeader=function(e,t){this.extraHeaders.push({name:e.toLowerCase(),value:t})},r.prototype.addAlgoliaAgent=function(e){-1===this._ua.indexOf(";"+e)&&(this._ua+=";"+e)},r.prototype._jsonRequest=function(t){function n(e,l){function f(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;a("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers);var n=2===Math.floor(t/100),i=new Date;if(g.push({currentHost:E,headers:s(o),content:r||null,contentLength:void 0!==r?r.length:null,method:l.method,timeouts:l.timeouts,url:l.url,startTime:_,endTime:i,duration:i-_,statusCode:t}),n)return d._useCache&&u&&(u[w]=e.responseText),e.body;if(4!==Math.floor(t/100))return m+=1,v();a("unrecoverable error");var f=new c.AlgoliaSearchError(e.body&&e.body.message,{debugData:g,statusCode:t});return d._promise.reject(f)}function y(e){a("error: %s, stack: %s",e.message,e.stack);var n=new Date;return g.push({currentHost:E,headers:s(o),content:r||null,contentLength:void 0!==r?r.length:null,method:l.method,timeouts:l.timeouts,url:l.url,startTime:_,endTime:n,duration:n-_}),e instanceof c.AlgoliaSearchError||(e=new c.Unknown(e&&e.message,e)),m+=1,e instanceof c.Unknown||e instanceof c.UnparsableJSON||m>=d.hosts[t.hostType].length&&(p||!h)?(e.debugData=g,d._promise.reject(e)):e instanceof c.RequestTimeout?b():v()}function v(){return a("retrying request"),d._incrementHostIndex(t.hostType),n(e,l)}function b(){return a("retrying request with higher timeout"),d._incrementHostIndex(t.hostType),d._incrementTimeoutMultipler(),l.timeouts=d._getTimeoutsForRequest(t.hostType),n(e,l)}d._checkAppIdData();var w,_=new Date;if(d._useCache&&(w=t.url),d._useCache&&r&&(w+="_body_"+l.body),d._useCache&&u&&void 0!==u[w])return a("serving response from cache"),d._promise.resolve(JSON.parse(u[w]));if(m>=d.hosts[t.hostType].length)return!h||p?(a("could not get any response"),d._promise.reject(new c.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+d.applicationID,{debugData:g}))):(a("switching to fallback"),m=0,l.method=t.fallback.method,l.url=t.fallback.url,l.jsonBody=t.fallback.body,l.jsonBody&&(l.body=i(l.jsonBody)),o=d._computeRequestHeaders(),l.timeouts=d._getTimeoutsForRequest(t.hostType),d._setHostIndexByType(0,t.hostType),p=!0,
n(d._request.fallback,l));var E=d._getHostByType(t.hostType),k=E+l.url,T={body:l.body,jsonBody:l.jsonBody,method:l.method,headers:o,timeouts:l.timeouts,debug:a};return a("method: %s, url: %s, headers: %j, timeouts: %d",T.method,k,T.headers,T.timeouts),e===d._request.fallback&&a("using fallback"),e.call(d,k,T).then(f,y)}this._checkAppIdData();var r,o,a=e(1)("algoliasearch:"+t.url),u=t.cache,d=this,m=0,p=!1,h=d._useFallback&&d._request.fallback&&t.fallback;this.apiKey.length>f&&void 0!==t.body&&(void 0!==t.body.params||void 0!==t.body.requests)?(t.body.apiKey=this.apiKey,o=this._computeRequestHeaders(!1)):o=this._computeRequestHeaders(),void 0!==t.body&&(r=i(t.body)),a("request start");var g=[],y=n(d._request,{url:t.url,method:t.method,body:r,jsonBody:t.body,timeouts:d._getTimeoutsForRequest(t.hostType)});return t.callback?void y.then(function(e){l(function(){t.callback(null,e)},d._setTimeout||setTimeout)},function(e){l(function(){t.callback(e)},d._setTimeout||setTimeout)}):y},r.prototype._getSearchParams=function(e,t){if(null==e)return t;for(var n in e)null!==n&&void 0!==e[n]&&e.hasOwnProperty(n)&&(t+=""===t?"":"&",t+=n+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[n])?i(e[n]):e[n]));return t},r.prototype._computeRequestHeaders=function(t){var n=e(5),r={"x-algolia-agent":this._ua,"x-algolia-application-id":this.applicationID};return!1!==t&&(r["x-algolia-api-key"]=this.apiKey),this.userToken&&(r["x-algolia-usertoken"]=this.userToken),this.securityTags&&(r["x-algolia-tagfilters"]=this.securityTags),this.extraHeaders&&n(this.extraHeaders,function(e){r[e.name]=e.value}),r},r.prototype.search=function(t,n,r){var o=e(8),i=e(30),a="Usage: client.search(arrayOfQueries[, callback])";if(!o(t))throw new Error(a);"function"==typeof n?(r=n,n={}):void 0===n&&(n={});var s=this,c={requests:i(t,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:s._getSearchParams(e.params,t)}})},l=i(c.requests,function(e,t){return t+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(e.indexName)+"?"+e.params)}).join("&"),u="/1/indexes/*/queries";return void 0!==n.strategy&&(u+="?strategy="+n.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:u,body:c,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:l}},callback:r})},r.prototype.setSecurityTags=function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],n=0;n<e.length;++n)if("[object Array]"===Object.prototype.toString.call(e[n])){for(var r=[],o=0;o<e[n].length;++o)r.push(e[n][o]);t.push("("+r.join(",")+")")}else t.push(e[n]);e=t.join(",")}this.securityTags=e},r.prototype.setUserToken=function(e){this.userToken=e},r.prototype.clearCache=function(){this.cache={}},r.prototype.setRequestTimeout=function(e){e&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=e)},r.prototype.setTimeouts=function(e){this._timeouts=e},r.prototype.getTimeouts=function(){return this._timeouts},r.prototype._getAppIdData=function(){var e=d.get(this.applicationID);return null!==e&&this._cacheAppIdData(e),e},r.prototype._setAppIdData=function(e){return e.lastChange=(new Date).getTime(),this._cacheAppIdData(e),d.set(this.applicationID,e)},r.prototype._checkAppIdData=function(){var e=this._getAppIdData(),t=(new Date).getTime();return null===e||t-e.lastChange>m?this._resetInitialAppIdData(e):e},r.prototype._resetInitialAppIdData=function(e){var t=e||{};return t.hostIndexes={read:0,write:0},t.timeoutMultiplier=1,t.shuffleResult=t.shuffleResult||a([1,2,3]),this._setAppIdData(t)},r.prototype._cacheAppIdData=function(e){this._hostIndexes=e.hostIndexes,this._timeoutMultiplier=e.timeoutMultiplier,this._shuffleResult=e.shuffleResult},r.prototype._partialAppIdDataUpdate=function(t){var n=e(5),r=this._getAppIdData();return n(t,function(e,t){r[t]=e}),this._setAppIdData(r)},r.prototype._getHostByType=function(e){return this.hosts[e][this._getHostIndexByType(e)]},r.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},r.prototype._getHostIndexByType=function(e){return this._hostIndexes[e]},r.prototype._setHostIndexByType=function(t,n){var r=e(25)(this._hostIndexes);return r[n]=t,this._partialAppIdDataUpdate({hostIndexes:r}),t},r.prototype._incrementHostIndex=function(e){return this._setHostIndexByType((this._getHostIndexByType(e)+1)%this.hosts[e].length,e)},r.prototype._incrementTimeoutMultipler=function(){var e=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:e})},r.prototype._getTimeoutsForRequest=function(e){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[e]*this._timeoutMultiplier}}}).call(this,e(12))},{1:1,12:12,18:18,25:25,28:28,29:29,30:30,34:34,5:5,8:8}],16:[function(e,t){function n(){o.apply(this,arguments)}var r=e(7),o=e(18),i=e(26),a=e(27),s=e(29),c=e(28);t.exports=n,r(n,o),n.prototype.addObject=function(e,t,n){var r=this;return 1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:n})},n.prototype.addObjects=function(t,n){var r="Usage: index.addObjects(arrayOfObjects[, callback])";if(!e(8)(t))throw new Error(r);for(var o=this,i={requests:[]},a=0;a<t.length;++a){var s={action:"addObject",body:t[a]};i.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:i,hostType:"write",callback:n})},n.prototype.partialUpdateObject=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var r="/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial";return!1===t&&(r+="?createIfNotExists=false"),this.as._jsonRequest({method:"POST",url:r,body:e,hostType:"write",callback:n})},n.prototype.partialUpdateObjects=function(t,n){var r="Usage: index.partialUpdateObjects(arrayOfObjects[, callback])";if(!e(8)(t))throw new Error(r);for(var o=this,i={requests:[]},a=0;a<t.length;++a){var s={action:"partialUpdateObject",objectID:t[a].objectID,body:t[a]};i.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:i,hostType:"write",callback:n})},n.prototype.saveObject=function(e,t){var n=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},n.prototype.saveObjects=function(t,n){var r="Usage: index.saveObjects(arrayOfObjects[, callback])";if(!e(8)(t))throw new Error(r);for(var o=this,i={requests:[]},a=0;a<t.length;++a){var s={action:"updateObject",objectID:t[a].objectID,body:t[a]};i.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:i,hostType:"write",callback:n})},n.prototype.deleteObject=function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var n=new c.AlgoliaSearchError("Cannot delete an object without an objectID");return"function"==typeof(t=e)?t(n):this.as._promise.reject(n)}var r=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},n.prototype.deleteObjects=function(t,n){var r=e(8),o=e(30),i="Usage: index.deleteObjects(arrayOfObjectIDs[, callback])";if(!r(t))throw new Error(i);var a=this,s={requests:o(t,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/batch",body:s,hostType:"write",callback:n})},n.prototype.deleteByQuery=function(t,n,r){function o(e){if(0===e.nbHits)return e;var t=d(e.hits,function(e){return e.objectID});return f.deleteObjects(t).then(i).then(a)}function i(e){return f.waitTask(e.taskID)}function a(){return f.deleteByQuery(t,n)}function c(){s(function(){r(null)},m._setTimeout||setTimeout)}function l(e){s(function(){r(e)},m._setTimeout||setTimeout)}var u=e(25),d=e(30),f=this,m=f.as;1===arguments.length||"function"==typeof n?(r=n,n={}):n=u(n),n.attributesToRetrieve="objectID",n.hitsPerPage=1e3,n.distinct=!1,this.clearCache();var p=this.search(t,n).then(o);return r?void p.then(c,l):p},n.prototype.browseAll=function(t,n){function r(e){var t;a._stopped||(t=void 0!==e?"cursor="+encodeURIComponent(e):l,s._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/browse?"+t,hostType:"read",callback:o}))}function o(e,t){if(!a._stopped)return e?void a._error(e):(a._result(t),void 0===t.cursor?void a._end():void r(t.cursor))}"object"==typeof t&&(n=t,t=void 0);var i=e(31),a=new(e(17)),s=this.as,c=this,l=s._getSearchParams(i({},n||{},{query:t}),"");return r(),a},n.prototype.ttAdapter=function(e){var t=this;return function(n,r,o){var i;i="function"==typeof o?o:r,t.search(n,e,function(e,t){return e?void i(e):void i(t.hits)})}},n.prototype.waitTask=function(e,t){function n(){return u._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(l.indexName)+"/task/"+e}).then(function(e){var t=i*++c*c;return t>a&&(t=a),"published"!==e.status?u._promise.delay(t).then(n):e})}function r(e){s(function(){t(null,e)},u._setTimeout||setTimeout)}function o(e){s(function(){t(e)},u._setTimeout||setTimeout)}var i=100,a=5e3,c=0,l=this,u=l.as,d=n();return t?void d.then(r,o):d},n.prototype.clearIndex=function(e){var t=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},n.prototype.getSettings=function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings?getVersion=2",hostType:"read",callback:e})},n.prototype.searchSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/search",body:e,hostType:"read",callback:t})},n.prototype.saveSynonym=function(e,t,n){return"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e.objectID)+"?forwardToSlaves="+(t.forwardToSlaves?"true":"false"),body:e,hostType:"write",callback:n})},n.prototype.getSynonym=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e),hostType:"read",callback:t})},n.prototype.deleteSynonym=function(e,t,n){return"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e)+"?forwardToSlaves="+(t.forwardToSlaves?"true":"false"),hostType:"write",callback:n})},n.prototype.clearSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/clear?forwardToSlaves="+(e.forwardToSlaves?"true":"false"),hostType:"write",callback:t})},n.prototype.batchSynonyms=function(e,t,n){return"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/batch?forwardToSlaves="+(t.forwardToSlaves?"true":"false")+"&replaceExistingSynonyms="+(t.replaceExistingSynonyms?"true":"false"),hostType:"write",body:e,callback:n})},n.prototype.setSettings=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t={});var r=t.forwardToSlaves||!1,o=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/settings?forwardToSlaves="+(r?"true":"false"),hostType:"write",body:e,callback:n})},n.prototype.listUserKeys=function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},n.prototype.getUserKeyACL=function(e,t){var n=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"read",callback:t})},n.prototype.deleteUserKey=function(e,t){var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"write",callback:t})},n.prototype.addUserKey=function(t,n,r){var o="Usage: index.addUserKey(arrayOfAcls[, params, callback])";if(!e(8)(t))throw new Error(o);1!==arguments.length&&"function"!=typeof n||(r=n,n=null);var i={acl:t};return n&&(i.validity=n.validity,i.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,i.maxHitsPerQuery=n.maxHitsPerQuery,i.description=n.description,n.queryParameters&&(i.queryParameters=this.as._getSearchParams(n.queryParameters,"")),i.referers=n.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:i,hostType:"write",callback:r})},n.prototype.addUserKeyWithValidity=i(function(e,t,n){return this.addUserKey(e,t,n)},a("index.addUserKeyWithValidity()","index.addUserKey()")),n.prototype.updateUserKey=function(t,n,r,o){var i="Usage: index.updateUserKey(key, arrayOfAcls[, params, callback])";if(!e(8)(n))throw new Error(i);2!==arguments.length&&"function"!=typeof r||(o=r,r=null);var a={acl:n};return r&&(a.validity=r.validity,a.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,a.maxHitsPerQuery=r.maxHitsPerQuery,a.description=r.description,r.queryParameters&&(a.queryParameters=this.as._getSearchParams(r.queryParameters,"")),a.referers=r.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,body:a,hostType:"write",callback:o})}},{17:17,18:18,25:25,26:26,27:27,28:28,29:29,30:30,31:31,7:7,8:8}],17:[function(e,t){"use strict";function n(){}t.exports=n,e(7)(n,e(4).EventEmitter),n.prototype.stop=function(){this._stopped=!0,this._clean()},n.prototype._end=function(){this.emit("end"),this._clean()},n.prototype._error=function(e){this.emit("error",e),this._clean()},n.prototype._result=function(e){this.emit("result",e)},n.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},{4:4,7:7}],18:[function(e,t){function n(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}var r=e(24),o=e(26),i=e(27);t.exports=n,n.prototype.clearCache=function(){this.cache={}},n.prototype.search=r("query"),n.prototype.similarSearch=r("similarQuery"),n.prototype.browse=function(t,n,r){var o,i,a=e(31),s=this;0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(o=0,r=arguments[0],t=void 0):"number"==typeof arguments[0]?(o=arguments[0],"number"==typeof arguments[1]?i=arguments[1]:"function"==typeof arguments[1]&&(r=arguments[1],i=void 0),t=void 0,n=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(r=arguments[1]),n=arguments[0],t=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(r=arguments[1],n=void 0),n=a({},n||{},{page:o,hitsPerPage:i,query:t});var c=this.as._getSearchParams(n,"");return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/browse?"+c,hostType:"read",callback:r})},n.prototype.browseFrom=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse?cursor="+encodeURIComponent(e),hostType:"read",callback:t})},n.prototype.searchForFacetValues=function(t,n){var r=e(25),o=e(32),i="Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])";if(void 0===t.facetName||void 0===t.facetQuery)throw new Error(i);var a=t.facetName,s=o(r(t),function(e){return"facetName"===e}),c=this.as._getSearchParams(s,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/facets/"+encodeURIComponent(a)+"/query",hostType:"read",body:{params:c},callback:n})},n.prototype.searchFacet=o(function(e,t){return this.searchForFacetValues(e,t)},i("index.searchFacet(params[, callback])","index.searchForFacetValues(params[, callback])")),n.prototype._search=function(e,t,n){return this.as._jsonRequest({cache:this.cache,method:"POST",url:t||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:n})},n.prototype.getObject=function(e,t,n){var r=this;1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var o="";if(void 0!==t){o="?attributes=";for(var i=0;i<t.length;++i)0!==i&&(o+=","),o+=t[i]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e)+o,hostType:"read",callback:n})},n.prototype.getObjects=function(t,n,r){var o=e(8),i=e(30),a="Usage: index.getObjects(arrayOfObjectIDs[, callback])";if(!o(t))throw new Error(a);var s=this;1!==arguments.length&&"function"!=typeof n||(r=n,n=void 0);var c={requests:i(t,function(e){var t={indexName:s.indexName,objectID:e};return n&&(t.attributesToRetrieve=n.join(",")),t})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:c,callback:r})},n.prototype.as=null,n.prototype.indexName=null,n.prototype.typeAheadArgs=null,n.prototype.typeAheadValueOption=null},{24:24,25:25,26:26,27:27,30:30,31:31,32:32,8:8}],19:[function(e,t){"use strict";var n=e(14),r=e(20);t.exports=r(n)},{14:14,20:20}],20:[function(e,t){(function(n){"use strict";var r=e(6),o=r.Promise||e(3).Promise;t.exports=function(t,i){function a(t,n,r){var o=e(25),i=e(21);return void 0===(r=o(r||{})).protocol&&(r.protocol=i()),r._ua=r._ua||a.ua,new s(t,n,r)}function s(){t.apply(this,arguments)}var c=e(7),l=e(28),u=e(22),d=e(23),f=e(33);i=i||"","debug"===n.env.NODE_ENV&&e(1).enable("algoliasearch*"),a.version=e(35),a.ua="Algolia for vanilla JavaScript "+i+a.version,a.initPlaces=f(a),r.__algolia={debug:e(1),algoliasearch:a};var m={hasXMLHttpRequest:"XMLHttpRequest"in r,hasXDomainRequest:"XDomainRequest"in r};return m.hasXMLHttpRequest&&(m.cors="withCredentials"in new XMLHttpRequest),c(s,t),s.prototype._request=function(e,t){return new o(function(n,r){function o(){if(!p){var e;clearTimeout(f);try{e={body:JSON.parse(g.responseText),responseText:g.responseText,statusCode:g.status,headers:g.getAllResponseHeaders&&g.getAllResponseHeaders()||{}}}catch(t){e=new l.UnparsableJSON({more:g.responseText})}e instanceof l.UnparsableJSON?r(e):n(e)}}function i(e){p||(clearTimeout(f),r(new l.Network({more:e})))}function a(){p=!0,g.abort(),r(new l.RequestTimeout)}function s(){y=!0,clearTimeout(f),f=setTimeout(a,t.timeouts.complete)}function c(){y||s()}function d(){!y&&g.readyState>1&&s()}if(m.cors||m.hasXDomainRequest){e=u(e,t.headers);var f,p,h=t.body,g=m.cors?new XMLHttpRequest:new XDomainRequest,y=!1;f=setTimeout(a,t.timeouts.connect),g.onprogress=c,"onreadystatechange"in g&&(g.onreadystatechange=d),g.onload=o,g.onerror=i,g instanceof XMLHttpRequest?g.open(t.method,e,!0):g.open(t.method,e),m.cors&&(h&&("POST"===t.method?g.setRequestHeader("content-type","application/x-www-form-urlencoded"):g.setRequestHeader("content-type","application/json")),g.setRequestHeader("accept","application/json")),g.send(h)}else r(new l.Network("CORS not supported"))})},s.prototype._request.fallback=function(e,t){return e=u(e,t.headers),new o(function(n,r){d(e,t,function(e,t){return e?void r(e):void n(t)})})},s.prototype._promise={reject:function(e){return o.reject(e)},resolve:function(e){return o.resolve(e)},delay:function(e){return new o(function(t){setTimeout(t,e)})}},a}}).call(this,e(12))},{1:1,12:12,21:21,22:22,23:23,25:25,28:28,3:3,33:33,35:35,6:6,7:7}],21:[function(e,t){"use strict";function n(){var e=window.document.location.protocol;return"http:"!==e&&"https:"!==e&&(e="http:"),e}t.exports=n},{}],22:[function(e,t){"use strict";function n(e,t){return(e+=/\?/.test(e)?"&":"?")+r(t)}t.exports=n;var r=e(13)},{13:13}],23:[function(e,t){"use strict";function n(e,t,n){function i(){t.debug("JSONP: success"),g||f||(g=!0,d||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),s(),n(new r.JSONPScriptFail)))}function a(){"loaded"!==this.readyState&&"complete"!==this.readyState||i()}function s(){clearTimeout(y),p.onload=null,p.onreadystatechange=null,p.onerror=null,m.removeChild(p)}function c(){try{delete window[h],delete window[h+"_loaded"]}catch(e){window[h]=window[h+"_loaded"]=void 0}}function l(){t.debug("JSONP: Script timeout"),f=!0,s(),n(new r.RequestTimeout)}function u(){t.debug("JSONP: Script error"),g||f||(s(),n(new r.JSONPScriptError))}if("GET"===t.method){t.debug("JSONP: start");var d=!1,f=!1;o+=1;var m=document.getElementsByTagName("head")[0],p=document.createElement("script"),h="algoliaJSONP_"+o,g=!1;window[h]=function(e){return c(),f?void t.debug("JSONP: Late answer, ignoring"):(d=!0,s(),void n(null,{body:e}))},e+="&callback="+h,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var y=setTimeout(l,t.timeouts.complete);p.onreadystatechange=a,p.onload=i,p.onerror=u,p.async=!0,p.defer=!0,p.src=e,m.appendChild(p)}else n(new Error("Method "+t.method+" "+e+" is not supported by JSONP."))}t.exports=n;var r=e(28),o=0},{28:28}],24:[function(e,t){function n(e,t){return function(n,o,i){if("function"==typeof n&&"object"==typeof o||"object"==typeof i)throw new r.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof n?(i=n,n=""):1!==arguments.length&&"function"!=typeof o||(i=o,o=void 0),"object"==typeof n&&null!==n?(o=n,n=void 0):null!=n||(n="");var a="";return void 0!==n&&(a+=e+"="+encodeURIComponent(n)),void 0!==o&&(a=this.as._getSearchParams(o,a)),this._search(a,t,i)}}t.exports=n;var r=e(28)},{28:28}],25:[function(e,t){t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],26:[function(e,t){t.exports=function(e,t){function n(){return r||(console.log(t),r=!0),e.apply(this,arguments)}var r=!1;return n}},{}],27:[function(e,t){t.exports=function(e,t){return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+e.toLowerCase().replace(".","").replace("()","")}},{}],28:[function(e,t){"use strict";function n(t,n){var r=e(5),o=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):o.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=t||"Unknown error",n&&r(n,function(e,t){o[t]=e})}function r(e,t){function r(){var r=Array.prototype.slice.call(arguments,0);"string"!=typeof r[0]&&r.unshift(t),n.apply(this,r),this.name="AlgoliaSearch"+e+"Error"}return o(r,n),r}var o=e(7);o(n,Error),t.exports={AlgoliaSearchError:n,UnparsableJSON:r("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:r("RequestTimeout","Request timedout before getting a response"),Network:r("Network","Network issue, see err.more for details"),JSONPScriptFail:r("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:r("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:r("Unknown","Unknown error occured")}},{5:5,7:7}],29:[function(e,t){t.exports=function(e,t){t(e,0)}},{}],30:[function(e,t){var n=e(5);t.exports=function(e,t){var r=[];return n(e,function(n,o){r.push(t(n,o,e))}),r}},{5:5}],31:[function(e,t){var n=e(5);t.exports=function r(e){var t=Array.prototype.slice.call(arguments);return n(t,function(t){for(var n in t)t.hasOwnProperty(n)&&("object"==typeof e[n]&&"object"==typeof t[n]?e[n]=r({},e[n],t[n]):void 0!==t[n]&&(e[n]=t[n]))}),e}},{5:5}],32:[function(e,t){t.exports=function(t,n){var r=e(10),o=e(5),i={};return o(r(t),function(e){!0!==n(e)&&(i[e]=t[e])}),i}},{10:10,5:5}],33:[function(e,t){function n(t){return function(n,o,i){var a=e(25);(i=i&&a(i)||{}).hosts=i.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!=typeof n&&void 0!==n||(n="",o="",i._allowEmptyCredentials=!0);var s=t(n,o,i).initIndex("places");return s.search=r("query","/1/places/query"),s}}t.exports=n;var r=e(24)},{24:24,25:25}],34:[function(e,t){(function(n){function r(e,t){return 1===arguments.length?a.get(e):a.set(e,t)}function o(){try{return"localStorage"in n&&null!==n.localStorage&&!n.localStorage[c]&&(n.localStorage.setItem(c,JSON.stringify({})),!0)}catch(e){return!1}}function i(){try{n.localStorage.removeItem(c)}catch(e){}}var a,s=e(1)("algoliasearch:src/hostIndexState.js"),c="algoliasearch-client-js",l={state:{},set:function(e,t){return this.state[e]=t,this.state[e]},get:function(e){return this.state[e]||null}},u={set:function(e,t){try{var r=JSON.parse(n.localStorage[c]);return r[e]=t,n.localStorage[c]=JSON.stringify(r),r[e]}catch(o){return s("localStorage set failed with",o),i(),(a=l).set(e,t)}},get:function(e){return JSON.parse(n.localStorage[c])[e]||null}};a=o()?u:l,t.exports={get:r,set:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],35:[function(e,t){"use strict";t.exports="3.20.3"},{}]},{},[19])(19)});var instantClick,InstantClick=instantClick=function(e,t,n){function r(e){var t=e.indexOf("#");return t<0?e:e.substr(0,t)}function o(e){for(;e&&"A"!=e.nodeName;)e=e.parentNode;return e}function i(e){do{if(!e.hasAttribute)break;if(e.hasAttribute("data-instant"))return!1;if(e.hasAttribute("data-no-instant"))return!0}while(e=e.parentNode);return!1}function a(e){var n=t.protocol+"//"+t.host;return!(e.target||e.hasAttribute("download")||0!=e.href.indexOf(n+"/")||e.href.indexOf("#")>-1&&r(e.href)==S||i(e))}function s(e,t,n,r){for(var o=!1,i=0;i<z[e].length;i++)if("receive"==e){var a=z[e][i](t,n,r);a&&("body"in a&&(n=a.body),"title"in a&&(r=a.title),o=a)}else z[e][i](t,n,r);return o}function c(t,n,o,i,a){if(e.getElementById("navigation-butt")&&e.getElementById("navigation-butt").classList.remove("showing"),e.getElementsByTagName("BODY")[0].replaceChild(n,e.getElementById("page-content")),e.getElementById("navigation-progress").classList.remove("showing"),o){history.pushState(null,null,o.replace("?samepage=true","").replace("&samepage=true",""));var c=o.indexOf("#"),l=c>-1&&e.getElementById(o.substr(c+1)),u=0,d=o.indexOf("samepage=true")>-1;if(l)for(;l.offsetParent;)u+=l.offsetTop,l=l.offsetParent;d||scrollTo(0,u),S=r(o)}else scrollTo(0,i);C&&e.title==t?e.title=t+String.fromCharCode(160):e.title=t,b(),a?s("restore"):s("change",!1)}function l(){q=!1,F=!1}function u(e){return e.replace(/<noscript[\s\S]+?<\/noscript>/gi,"")}function d(e){if(!(j>+new Date-500)){var t=o(e.target);t&&a(t)&&w(t.href)}}function f(e){if(!(j>+new Date-500)){var t=o(e.target);t&&a(t)&&(t.addEventListener("mouseout",h),A?(L=t.href,O=setTimeout(w,A)):w(t.href),getImageForLink(t))}}function m(e){j=+new Date;var t=o(e.target);t&&a(t)&&(N?t.removeEventListener("mousedown",d):t.removeEventListener("mouseover",f),w(t.href),getImageForLink(t))}function p(e){try{var t=o(e.target);if(!t||!a(t))return;if(e.which>1||e.metaKey||e.ctrlKey)return;if(k(t.href),e.preventDefault(),window.ga&&ga.create&&t.hasAttribute("data-featured-article")){var n=t.dataset.featuredArticle;ga("send","event","click","featured-feed-click",n,null)}}catch(r){console.log(r)}}function h(){if(O)return clearTimeout(O),void(O=!1);q&&!F&&(B.abort(),l())}function g(){y(B,P)}function y(t,n){if(!(t.readyState<4)&&0!=t.status){if(H.ready=+new Date-H.start,200===t.status&&t.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var o=e.implementation.createHTMLDocument("");o.documentElement.innerHTML=u(t.responseText);var i=o.title,a=o.getElementById("page-content"),c=s("receive",n,a,i);c&&("body"in c&&(a=c.body),"title"in c&&(i=c.title)),D[n]={body:a,title:i};r(n);for(var l,d,f=o.head.children,m=0,p=0;p<f.length;p++)if((l=f[p]).hasAttribute("data-instant-track")){d=l.getAttribute("href")||l.getAttribute("src")||l.innerHTML;for(var h=0;h<U.length;h++)U[h]==d&&m++}m!=U.length&&(M=!0)}else M=!0;F&&P===n&&(F=!1,k(P))}}function v(){var n=r(t.href);n!=S&&(n in R?(R[S]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset},S=n,c(R[n].title,R[n].body,!1,R[n].scrollY,!0)):t.href=t.href)}function b(t){if(e.body&&(e.body.addEventListener("touchstart",m,!0),N?e.body.addEventListener("mousedown",d,!0):e.body.addEventListener("mouseover",f,!0),e.body.addEventListener("click",p,!0)),!t)for(var n,r,o,i,a=e.body.getElementsByTagName("script"),s=0,c=a.length;s<c;s++)(n=a[s]).hasAttribute("data-no-instant")||(r=e.createElement("script"),n.src&&(r.src=n.src),n.innerHTML&&(r.innerHTML=n.innerHTML),o=n.parentNode,i=n.nextSibling,o.removeChild(n),o.insertBefore(r,i))}function w(e,t){if(!(!N&&"display"in H&&+new Date-(H.start+H.display)<100)&&(O&&(clearTimeout(O),O=!1),e||(e=L),!q||e!=P&&!F)){if(q=!0,F=!1,M=!1,H={start:+new Date},-1==e.indexOf("?"))var n=e+"?i=i";else n=e+"&i=i";_(),s("fetch"),D[e]||("force"===t?E(e,function(){y(this,e)}):(P=e,B.open("GET",n),B.send()))}}function _(e){(Object.keys(D).length>16||"force"==e)&&(D={})}function E(e,t){var n=new XMLHttpRequest;if(-1==e.indexOf("?"))var r=e+"?i=i";else r=e+"&i=i";n.open("GET",r,!0),n.onreadystatechange=function(){4==n.readyState&&"function"==typeof t&&t.apply(n)},n.send()}function k(n){if(P=n,D[n])var r=D[n].body,o=D[n].title;else e.getElementById("navigation-progress").classList.add("showing");if("display"in H||(H.display=+new Date-H.start),O||!q)return O&&P&&P!=n?void(t.href=n):(w(n),s("wait"),void(F=!0));if(F)t.href=n;else if(M)t.href=P;else{if(!r)return s("wait"),void(F=!0);R[S]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset},l(),c(o,r,P)}}function T(n){if(!S)if(J){"mousedown"==n?N=!0:"number"==typeof n&&(A=n),S=r(t.href),R[S]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset};for(var o,i,a=e.head.children,c=0;c<a.length;c++)(o=a[c]).hasAttribute("data-instant-track")&&(i=o.getAttribute("href")||o.getAttribute("src")||o.innerHTML,U.push(i));(B=new XMLHttpRequest).addEventListener("readystatechange",g),b(!0),s("change",!0),addEventListener("popstate",v),I()}else s("change",!0)}function x(e,t){z[e].push(t)}function I(){if("ontouchstart"in e.documentElement){var t=e.createElement("script");t.src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/lib/pulltorefresh-517a503a45b4c9da7bc857e089b1e4eb9fc3da0d6e80d86398fa8132e12ddb22.js",e.head.appendChild(t);var n=setInterval(function(){if("undefined"!=typeof PullToRefresh){PullToRefresh.init({mainElement:"body",passive:!0,onRefresh:function(){window.location.reload()}});clearInterval(n)}},1)}}var S,L,O,j,B,N,A,C=n.indexOf(" CriOS/")>-1,R={},P=!1,M=!1,D={},H={},q=!1,F=!1,U=[],z={fetch:[],receive:[],wait:[],change:[],restore:[]},J="pushState"in history&&(!n.match("Android")||n.match("Chrome/")||n.match("Firefox/"))&&"file:"!=t.protocol;return{supported:J,init:T,isPreloadable:a,preload:w,removeExpiredKeys:_,display:k,on:x}}(document,location,navigator.userAgent);if("undefined"!=typeof airbrakeJs)initializeAirbrake();else var waitingOnAirbrake=setInterval(function(){"undefined"!=typeof airbrakeJs&&(initializeAirbrake(),clearInterval(waitingOnAirbrake))},1);